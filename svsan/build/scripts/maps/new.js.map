{"version":3,"sources":["new.js"],"names":["window","popup","init","$trigger","$","$close","on","event","preventDefault","$popup","attr","length","open","document","$target","target","closest","close","_this","active","addClass","callback","_this2","removeClass","setTimeout","undefined","ready"],"mappings":";;AAAAA,MAAM,CAACC,KAAP,GAAe;AACbC,EAAAA,IAAI,EAAE,SAASA,IAAT,GAAgB;AACpB,SAAKC,QAAL,GAAgBC,CAAC,CAAC,mBAAD,CAAjB;AACA,SAAKC,MAAL,GAAcD,CAAC,CAAC,oBAAD,CAAf;AACA,SAAKD,QAAL,CAAcG,EAAd,CAAiB,OAAjB,EAA0B,UAAUC,KAAV,EAAiB;AACzCA,MAAAA,KAAK,CAACC,cAAN;AACA,UAAIC,MAAM,GAAGL,CAAC,CAACA,CAAC,CAAC,IAAD,CAAD,CAAQM,IAAR,CAAa,MAAb,CAAD,CAAd;;AACA,UAAID,MAAM,CAACE,MAAX,EAAmB;AACjBV,QAAAA,KAAK,CAACW,IAAN,CAAWH,MAAX;AACD;AACF,KAND;AAOAL,IAAAA,CAAC,CAACS,QAAD,CAAD,CAAYP,EAAZ,CAAe,OAAf,EAAwB,UAAUC,KAAV,EAAiB;AACvC,UAAIO,OAAO,GAAGV,CAAC,CAACG,KAAK,CAACQ,MAAP,CAAf;;AAEA,UAAID,OAAO,CAACE,OAAR,CAAgBf,KAAK,CAACI,MAAtB,EAA8BM,MAA9B,IAAwCG,OAAO,CAACE,OAAR,CAAgB,QAAhB,EAA0BL,MAA1B,IAAoCG,OAAO,CAACE,OAAR,CAAgB,yBAAhB,EAA2CL,MAA3C,IAAqD,CAArI,EAAwI;AACtIJ,QAAAA,KAAK,CAACC,cAAN;AACA,YAAIC,MAAM,GAAGK,OAAO,CAACE,OAAR,CAAgB,QAAhB,EAA0BL,MAA1B,GAAmCG,OAAO,CAACE,OAAR,CAAgB,QAAhB,CAAnC,GAA+DZ,CAAC,CAAC,sBAAD,CAA7E;AACAH,QAAAA,KAAK,CAACgB,KAAN,CAAYR,MAAZ;AACD;AACF,KARD;AASD,GApBY;AAqBbG,EAAAA,IAAI,EAAE,SAASA,IAAT,CAAcH,MAAd,EAAsB;AAC1B,QAAIS,KAAK,GAAG,IAAZ;;AACA,QAAIX,KAAK,GAAG,SAASA,KAAT,GAAiB;AAC3BW,MAAAA,KAAK,CAACC,MAAN,GAAeV,MAAf;AACAA,MAAAA,MAAM,CAACW,QAAP,CAAgB,QAAhB;AACD,KAHD;;AAKA,QAAI,KAAKD,MAAT,EAAiB;AACflB,MAAAA,KAAK,CAACgB,KAAN,CAAY,KAAKE,MAAjB,EAAyB,YAAY;AACnCZ,QAAAA,KAAK;AACN,OAFD;AAGD,KAJD,MAIO;AACLA,MAAAA,KAAK;AACN;AACF,GAnCY;AAoCbU,EAAAA,KAAK,EAAE,SAASA,KAAT,CAAeR,MAAf,EAAuBY,QAAvB,EAAiC;AACtC,QAAIC,MAAM,GAAG,IAAb;;AACAb,IAAAA,MAAM,CAACc,WAAP,CAAmB,QAAnB;AACAC,IAAAA,UAAU,CAAC,YAAY;AACrBF,MAAAA,MAAM,CAACH,MAAP,GAAgBM,SAAhB;AACA,aAAOJ,QAAP,KAAoB,UAApB,IAAkCA,QAAQ,EAA1C;AACD,KAHS,EAGP,GAHO,CAAV;AAID;AA3CY,CAAf;AA8CAjB,CAAC,CAACS,QAAD,CAAD,CAAYa,KAAZ,CAAkB,YAAY;AAC5BzB,EAAAA,KAAK,CAACC,IAAN;AACD,CAFD","sourcesContent":["window.popup = {\n  init: function init() {\n    this.$trigger = $('[data-popup-open]');\n    this.$close = $('[data-popup-close]');\n    this.$trigger.on('click', function (event) {\n      event.preventDefault();\n      var $popup = $($(this).attr('href'));\n      if ($popup.length) {\n        popup.open($popup);\n      }\n    });\n    $(document).on('click', function (event) {\n      var $target = $(event.target);\n\n      if ($target.closest(popup.$close).length || $target.closest('.popup').length && $target.closest('.popup-block__container').length == 0) {\n        event.preventDefault();\n        var $popup = $target.closest('.popup').length ? $target.closest('.popup') : $('.city-question-popup');\n        popup.close($popup);\n      }\n    });\n  },\n  open: function open($popup) {\n    var _this = this;\n    var event = function event() {\n      _this.active = $popup;\n      $popup.addClass('active');\n    };\n\n    if (this.active) {\n      popup.close(this.active, function () {\n        event();\n      });\n    } else {\n      event();\n    }\n  },\n  close: function close($popup, callback) {\n    var _this2 = this;\n    $popup.removeClass('active');\n    setTimeout(function () {\n      _this2.active = undefined;\n      typeof callback === 'function' && callback();\n    }, 250);\n  }\n};\n\n$(document).ready(function () {\n  popup.init();\n})"],"file":"../new.js"}