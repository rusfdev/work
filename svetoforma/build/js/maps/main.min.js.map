{"version":3,"sources":["main.js"],"names":["lazySizes","cfg","init","document","hoverTouchEvents","toggle","nav","searchToggle","mobileCatalogue","desktopCatalogue","header","up","inputs","select","setTimeout","lazy","brakepoints","xs","sm","md","lg","$","on","event","$target","desktop","device","type","removeClass","addClass","addEventListener","e","$section","el","target","tagName","getAttribute","$toggle","style","backgroundImage","bg","closest","flag","check","each","this","hasClass","find","show","slideDown","slideUp","$close","toggleClass","state","$open","open","$overlay","close","scrollLock","enablePageScroll","$nav","preventDefault","$search","$catalogueToggle","$catalogue","$parent","$sectionOpen","index","parent","parents","eq","length","$navTrigger","$list","width","$lists","height","$links","linksHeight","w","rows","outerHeight","window","log","resize","$this","$header","scroll","$link","siblings","padding","css","scrollTop","$btn","animate","$slider","slidesToScroll","arrows","fade","asNavFor","$navslider","nextArrow","prevArrow","breakpoint","slidesToShow","slick","focusOnSelect","items","selectric","disableOnMobile","nativeOnMobile","arrowButtonMarkup","settings"],"mappings":"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","file":"../main.min.js","sourcesContent":["lazySizes.cfg.init = false;\n\n$(document).ready(function(){\n  hoverTouchEvents();\n  toggle();\n  nav();\n  searchToggle();\n  mobileCatalogue();\n  desktopCatalogue();\n  header();\n  up();\n  inputs.init();\n  select.init();\n  cardSlider();\n  //обработать изображения после инициализации слайдеров\n  setTimeout(()=>{\n    lazy();\n  },500)\n})\n\nconst brakepoints = {\n  xs: 576,\n  sm: 768,\n  md: 992,\n  lg: 1200\n}\n\n\n//hover/touch custom events\nfunction hoverTouchEvents() {\n  let targets = 'a, button, label, input, textarea, .selectric, .selectric-items li, .js-touch-hover'\n  $(document).on('mouseenter mouseleave touchstart touchend mousedown mouseup', targets, function(event) {\n    let $target = $(this);\n\n    //mobile events\n    if(!device.desktop()) {\n      if(event.type=='touchstart') {\n        $target.addClass('touch');\n      } \n      else if(event.type=='touchend') {\n        $target.removeClass('touch');\n      }\n    } \n    //desktop events\n    else {\n      \n      if(event.type=='mouseenter') {\n        $target.addClass('hover');\n      } \n      else if(event.type=='mousedown') {\n        $target.addClass('mousedown');\n      } \n      else if(event.type=='mouseup') {\n        $target.removeClass('mousedown');\n      } \n      else {\n        $target.removeClass('hover');\n        $target.removeClass('mousedown');\n      }\n\n    }  \n  })\n}\n\nfunction lazy() {\n  //lazyloading\n  document.addEventListener('lazybeforeunveil', function(e){\n    let el = e.target.tagName,\n        bg = e.target.getAttribute('data-src');\n    if(el!=='IMG') {\n      let bg = e.target.getAttribute('data-src');\n      e.target.style.backgroundImage = `url('${bg}')`;\n    }\n  });\n  lazySizes.init();\n}\n\nfunction toggle() {\n  let $section = $('.toggle-section'),\n      $toggle = $('.toggle-section__head'),\n      flag;\n  \n  $toggle.on('click', function() {\n    $(this).closest($section).toggleClass('active');\n    check();\n  })   \n\n  function check() {\n    $section.each(function(){\n      if($(this).hasClass('active')) {\n        if(!flag) {\n          $(this).find('.toggle-section__content').show();\n        }\n        $(this).find('.toggle-section__content').slideDown(250);\n      } else {\n        $(this).find('.toggle-section__content').slideUp(250);\n      }\n    })\n    flag = true;\n  }\n  check();\n}\n\nfunction nav() {\n  let $open = $('.nav-open'),\n      $close = $('.nav-close'),\n      $nav = $('.mobile-nav'),\n      $overlay = $('.mobile-nav__overlay'),\n      state;\n\n  $open.on('click', function(event){\n    event.preventDefault();\n    if(!state) {\n      open();\n    } \n  })\n  $close.on('click', function(event){\n    event.preventDefault();\n    if(state) {\n      close();\n    } \n  })\n  $overlay.on('click touchstart', function(event){\n    event.preventDefault();\n    if(state) {\n      close();\n    } \n  })\n\n  function open() {\n    state = true;\n    scrollLock.disablePageScroll();\n    $('header').addClass('header_nav-active')\n    $nav.addClass('active');\n  }\n\n  function close() {\n    state = false;\n    scrollLock.enablePageScroll();\n    $('header').removeClass('header_nav-active')\n    $nav.removeClass('active');\n  }\n}\n\nfunction searchToggle() {\n  let $open = $('.header__button-search'),\n      $close = $('.header__search-close'),\n      $search = $('.header__search');\n\n  $open.on('click', function(event) {\n    event.preventDefault();\n    $search.addClass('active');\n  })\n  $close.on('click', function(event) {\n    event.preventDefault();\n    $search.removeClass('active');\n  })\n}\n\nfunction mobileCatalogue() {\n  let $catalogueToggle = $('.mobile-nav__catalogue-toggle'),\n      $catalogue = $('.mobile-catalogue'),\n      $close = $('.mobile-catalogue-section__head'),\n      $sectionOpen = $('.mobile-catalogue-section__link');\n\n  $catalogueToggle.on('click', function(event) {\n    event.preventDefault();\n    $catalogue.addClass('active');\n  })\n\n  $close.on('click', function(event) {\n    event.preventDefault();\n    let $parent = $(this).closest('.mobile-catalogue-section');\n    $parent.removeClass('active');\n  })\n\n  $sectionOpen.on('click', function(event) {\n    let index = $(this).parent().index();\n    let $target = $(this).parents('.mobile-catalogue-section').find('.mobile-catalogue-section').eq(index);\n    if($target.length) {\n      event.preventDefault();\n      $target.addClass('active');\n    }\n  })\n\n}\n\nfunction desktopCatalogue() {\n  let $toggle = $('.catalogue-toggle-btn'),\n      $navTrigger = $('.desktop-catalogue__item'),\n      $nav = $('.desktop-catalogue'),\n      $lists = $('.desktop-catalogue__sub-list'),\n      state = false;\n\n  $lists.each(function(index) {\n    let $list = $(this),\n        $links = $(this).find('.desktop-catalogue__sub-link'),\n        w = 210;\n\n    function resize() {\n      $list.width(210);\n      let height = $list.height(),\n          linksHeight = 0,\n          rows = 1;\n      $links.each(function() {\n        linksHeight+=$(this).outerHeight();\n        if(linksHeight>height) {\n          console.log(height)\n          rows++;\n          $list.width(w*rows);\n          linksHeight = $(this).outerHeight();\n        }\n      })\n    }\n\n    resize();\n    $(window).on('resize', function() {\n      resize();\n    })\n  })\n\n  $toggle.add($nav).on('mouseenter mouseleave', function(event) {\n    if(event.type=='mouseenter') {\n      open();\n    } else if(event.type=='mouseleave') {\n      close();\n    }\n  })\n\n  $navTrigger.on('mouseenter mouseleave', function(event) {\n    let $this = $(this);\n\n    if(event.type=='mouseenter') {\n      $this.addClass('active');\n    } else if(event.type=='mouseleave') {\n      $this.removeClass('active');\n    } \n  })\n\n  $lists.on('mouseenter mouseleave', function(event) {\n    let $link = $(this).siblings('.desktop-catalogue__link');\n    if(event.type=='mouseenter') {\n      $link.addClass('active');\n    } else if(event.type=='mouseleave') {\n      $link.removeClass('active');\n    } \n  })\n\n\n  function open() {\n    state=true;\n    $toggle.addClass('active');\n    $nav.addClass('active');\n  }\n  function close() {\n    state=false;\n    $toggle.removeClass('active');\n    $nav.removeClass('active');\n  }\n}\n\nfunction header() {\n  let $header = $('.header'), \n      height,\n      scroll;\n\n  check();\n  padding();\n  $(window).scroll(function() {\n    check();\n  });\n\n  $(window).resize(function() {\n    padding();\n  });\n\n  function padding() {\n    $('.content').css('padding-top', $header.height());\n  }\n\n  function check() {\n    scroll = $(window).scrollTop();\n    height = $header.height();\n\n    if(scroll>height){\n      $header.addClass('fixed');\n    } else {\n      $header.removeClass('fixed');\n    }\n\n  }\n  \n}\n\n\n\nfunction up() {\n  let $btn = $('.js-up');\n\n  $(window).on('scroll', function() {\n    let scroll = $(window).scrollTop();\n    if(scroll>$('.header').height()) {\n      $btn.addClass('active');\n    } else {\n      $btn.removeClass('active');\n    }\n  })\n\n  $btn.on('click', function(event) {\n    event.preventDefault();\n    $(\"html, body\").animate({scrollTop:0}, 300);\n  })\n}\n\nlet inputs = {\n  init: function() {\n\n    $(document).on('change input', 'input', function(event) {\n      let $target = $(this);\n      if($target.hasClass('num-only')) {\n        $target.val( $target.val().replace(/\\D/, '') )\n      }\n    })\n    \n  }\n}\n\nfunction cardSlider() {\n  let $slider = $('.item-card-slider'),\n      $navslider = $('.item-card-nav-slider');\n      \n  if($slider.length) {\n\n    $slider.slick({\n      slidesToShow: 1,\n      slidesToScroll: 1,\n      arrows: false,\n      fade: true,\n      asNavFor: $navslider\n    });\n    $navslider.slick({\n      slidesToShow: 4,\n      slidesToScroll: 4,\n      asNavFor: $slider,\n      focusOnSelect: true,\n      arrows: true,\n      nextArrow: '<button type=\"button\" class=\"slider__arrow slider__next\"><i class=\"fas fa-angle-right\"></i></button>',\n      prevArrow: '<button type=\"button\" class=\"slider__arrow slider__prev\"><i class=\"fas fa-angle-left\"></i></button>',\n      responsive: [\n        {\n          breakpoint: brakepoints.xs,\n          settings: {\n            slidesToShow: 3\n          }\n        }\n      ]\n    });\n\n  }\n}\n\n//select\nlet select = {\n  init: function() {\n    this.items = $('.select');\n    if(this.items.length) {\n      this.items.selectric({\n        disableOnMobile: false,\n        nativeOnMobile: false,\n        arrowButtonMarkup: '<span class=\"icon\"></span>'\n      });\n    }\n  }\n}"]}