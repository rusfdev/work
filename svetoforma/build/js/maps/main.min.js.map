{"version":3,"sources":["main.js"],"names":["$","document","$target","event","this","desktop","removeClass","addClass","type","e","target","addEventListener","lazySizes","toggle","init","tagName","getAttribute","el","$section","style","backgroundImage","bg","$toggle","check","each","find","hasClass","flag","show","slideDown","slideUp","on","closest","toggleClass","$open","state","preventDefault","$close","$nav","open","scrollLock","enablePageScroll","searchToggle","disablePageScroll","$overlay","close","$search","mobileCatalogue","$catalogueToggle","$catalogue","$parent","parents","length","$sectionOpen","index","parent","eq","desktopCatalogue","$navTrigger","height","linksHeight","$links","$lists","$list","width","console","log","outerHeight","outerWidth","$this","scroll","$link","siblings","header","$header","padding","css","window","$btn","resize","up","scrollTop","animate","cfg","hoverTouchEvents","lazy","nav"],"mappings":"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","file":"../main.min.js","sourcesContent":["lazySizes.cfg.init = false;\n\n$(document).ready(function(){\n  hoverTouchEvents();\n  toggle();\n  lazy();\n  nav();\n  searchToggle();\n  mobileCatalogue();\n  desktopCatalogue();\n  header();\n  up();\n})\n\n\n//hover/touch custom events\nfunction hoverTouchEvents() {\n  $(document).on('mouseenter mouseleave touchstart touchend mousedown mouseup', 'a,button,label,input,textarea,.js-touch-hover', function(event) {\n    let $target = $(this);\n\n    //mobile events\n    if(!device.desktop()) {\n      if(event.type=='touchstart') {\n        $target.addClass('touch');\n      } \n      else if(event.type=='touchend') {\n        $target.removeClass('touch');\n      }\n    } \n    //desktop events\n    else {\n      \n      if(event.type=='mouseenter') {\n        $target.addClass('hover');\n      } \n      else if(event.type=='mousedown') {\n        $target.addClass('mousedown');\n      } \n      else if(event.type=='mouseup') {\n        $target.removeClass('mousedown');\n      } \n      else {\n        $target.removeClass('hover');\n        $target.removeClass('mousedown');\n      }\n\n    }  \n  })\n}\n\nfunction lazy() {\n  //lazyloading\n  document.addEventListener('lazybeforeunveil', function(e){\n    let el = e.target.tagName,\n        bg = e.target.getAttribute('data-src');\n    if(el!=='IMG') {\n      let bg = e.target.getAttribute('data-src');\n      e.target.style.backgroundImage = `url('${bg}')`;\n    }\n  });\n  lazySizes.init();\n}\n\nfunction toggle() {\n  let $section = $('.toggle-section'),\n      $toggle = $('.toggle-section__head'),\n      flag;\n  \n  $toggle.on('click', function() {\n    $(this).closest($section).toggleClass('active');\n    check();\n  })   \n\n  function check() {\n    $section.each(function(){\n      if($(this).hasClass('active')) {\n        if(!flag) {\n          $(this).find('.toggle-section__content').show();\n        }\n        $(this).find('.toggle-section__content').slideDown(250);\n      } else {\n        $(this).find('.toggle-section__content').slideUp(250);\n      }\n    })\n    flag = true;\n  }\n  check();\n}\n\nfunction nav() {\n  let $open = $('.nav-open'),\n      $close = $('.nav-close'),\n      $nav = $('.mobile-nav'),\n      $overlay = $('.mobile-nav__overlay'),\n      state;\n\n  $open.on('click', function(event){\n    event.preventDefault();\n    if(!state) {\n      open();\n    } \n  })\n  $close.on('click', function(event){\n    event.preventDefault();\n    if(state) {\n      close();\n    } \n  })\n  $overlay.on('click touchstart', function(event){\n    event.preventDefault();\n    if(state) {\n      close();\n    } \n  })\n\n  function open() {\n    state = true;\n    scrollLock.disablePageScroll();\n    $('header').addClass('header_nav-active')\n    $nav.addClass('active');\n  }\n\n  function close() {\n    state = false;\n    scrollLock.enablePageScroll();\n    $('header').removeClass('header_nav-active')\n    $nav.removeClass('active');\n  }\n}\n\nfunction searchToggle() {\n  let $open = $('.header__button-search'),\n      $close = $('.header__search-close'),\n      $search = $('.header__search');\n\n  $open.on('click', function(event) {\n    event.preventDefault();\n    $search.addClass('active');\n  })\n  $close.on('click', function(event) {\n    event.preventDefault();\n    $search.removeClass('active');\n  })\n}\n\nfunction mobileCatalogue() {\n  let $catalogueToggle = $('.mobile-nav__catalogue-toggle'),\n      $catalogue = $('.mobile-catalogue'),\n      $close = $('.mobile-catalogue-section__head'),\n      $sectionOpen = $('.mobile-catalogue-section__link');\n\n  $catalogueToggle.on('click', function(event) {\n    event.preventDefault();\n    $catalogue.addClass('active');\n  })\n\n  $close.on('click', function(event) {\n    event.preventDefault();\n    let $parent = $(this).closest('.mobile-catalogue-section');\n    $parent.removeClass('active');\n  })\n\n  $sectionOpen.on('click', function(event) {\n    let index = $(this).parent().index();\n    let $target = $(this).parents('.mobile-catalogue-section').find('.mobile-catalogue-section').eq(index);\n    if($target.length) {\n      event.preventDefault();\n      $target.addClass('active');\n    }\n  })\n\n}\n\nfunction desktopCatalogue() {\n  let $toggle = $('.catalogue-toggle-btn'),\n      $navTrigger = $('.desktop-catalogue__item'),\n      $nav = $('.desktop-catalogue'),\n      $lists = $('.desktop-catalogue__sub-list'),\n      state = false;\n\n\n  $lists.each(function(index) {\n    let $list = $(this),\n        height = $list.height(),\n        linksHeight = 0,\n        $links = $(this).find('.desktop-catalogue__sub-link');\n\n      $links.each(function() {\n        let width = $(this).width();\n        linksHeight+=$(this).outerHeight();\n        if(linksHeight>height) {\n          $list.width($list.outerWidth()+width+15);\n          linksHeight = $(this).outerHeight();\n          console.log('ss')\n        }\n      })\n  })\n\n  $toggle.add($nav).on('mouseenter mouseleave', function(event) {\n    if(event.type=='mouseenter') {\n      open();\n    } else if(event.type=='mouseleave') {\n      close();\n    }\n  })\n\n  $navTrigger.on('mouseenter mouseleave', function(event) {\n    let $this = $(this);\n\n    if(event.type=='mouseenter') {\n      $this.addClass('active');\n    } else if(event.type=='mouseleave') {\n      $this.removeClass('active');\n    } \n  })\n\n  $lists.on('mouseenter mouseleave', function(event) {\n    let $link = $(this).siblings('.desktop-catalogue__link');\n    if(event.type=='mouseenter') {\n      $link.addClass('active');\n    } else if(event.type=='mouseleave') {\n      $link.removeClass('active');\n    } \n  })\n\n\n  function open() {\n    state=true;\n    $toggle.addClass('active');\n    $nav.addClass('active');\n  }\n  function close() {\n    state=false;\n    $toggle.removeClass('active');\n    $nav.removeClass('active');\n  }\n}\n\nfunction header() {\n  let $header = $('.header'), \n      height,\n      scroll;\n\n  check();\n  padding();\n  $(window).scroll(function() {\n    check();\n  });\n\n  $(window).resize(function() {\n    padding();\n  });\n\n  function padding() {\n    $('.content').css('padding-top', $header.height());\n  }\n\n  function check() {\n    scroll = $(window).scrollTop();\n    height = $header.height();\n\n    if(scroll>height){\n      $header.addClass('fixed');\n    } else {\n      $header.removeClass('fixed');\n    }\n\n  }\n  \n}\n\n\n\nfunction up() {\n  let $btn = $('.js-up');\n\n  $(window).on('scroll', function() {\n    let scroll = $(window).scrollTop();\n    if(scroll>$('.header').height()) {\n      $btn.addClass('active');\n    } else {\n      $btn.removeClass('active');\n    }\n  })\n\n  $btn.on('click', function(event) {\n    event.preventDefault();\n    $(\"html, body\").animate({scrollTop:0}, 300);\n  })\n}"]}