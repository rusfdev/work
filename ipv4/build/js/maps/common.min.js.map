{"version":3,"sources":["common.js"],"names":["lazySizes","cfg","init","preloadAfterLoad","document","hoverTouchEvents","lazy","popup","addGradient","$header","brakepoints","sm","md","lg","xl","xxl","$","$target","event","this","device","desktop","addClass","type","removeClass","el","addEventListener","e","target","style","backgroundImage","getAttribute","concat","bg","$button","timeout","$window","each","siblings","clearTimeout","add","closest","length","on","setTimeout","checkFixed","window","state","checkVisible","isFixed","scroll","scrollTop","scroll_last","nav","height","isVisible","$block","$this","$items","css","find","value","itemValue","_this","$nav","open","$toggle","console","close","flag","timout","undefined","scrollLock","disablePageScroll","enablePageScroll","_this2"],"mappings":"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","file":"../common.min.js","sourcesContent":["lazySizes.cfg.init = false;\nlazySizes.cfg.preloadAfterLoad = true;\n\n$(document).ready(function(){\n  hoverTouchEvents();\n  lazy();\n  popup();\n  addGradient();\n  $header.init();\n  nav.init();\n})\n\nconst brakepoints = {\n  sm: 576,\n  md: 768,\n  lg: 992,\n  xl: 1200,\n  xxl: 1400\n}\n\n//hover/touch custom events\nfunction hoverTouchEvents() {\n  $(document).on('mouseenter mouseleave touchstart touchend mousedown mouseup contextmenu', 'a,button,label,input,textarea,.js-touch-hover', function(event) {\n    let $target = $(this);\n    //mobile events\n    if(!device.desktop()) {\n      if(event.type=='touchstart') {\n        $target.addClass('touch');\n      } \n      else if(event.type=='touchend' || event.type=='contextmenu') {\n        $target.removeClass('touch');\n      }\n    } \n    //desktop events\n    else {\n      if(event.type=='mouseenter') {\n        $target.addClass('hover');\n      } \n      else if(event.type=='mousedown') {\n        $target.addClass('mousedown');\n      } \n      else if(event.type=='mouseup') {\n        $target.removeClass('mousedown');\n      } \n      else {\n        $target.removeClass('hover');\n        $target.removeClass('mousedown');\n      }\n    }  \n  })\n}\n\n//lazyloading\nfunction lazy() {\n  //add backgrounds\n  document.addEventListener('lazybeforeunveil', function(e){\n    let el = e.target.tagName,\n        bg = e.target.getAttribute('data-src');\n    if(el!=='IMG') {\n      let bg = e.target.getAttribute('data-src');\n      e.target.style.backgroundImage = `url('${bg}')`;\n    }\n  });\n  lazySizes.init();\n}\n\nfunction popup() {\n  let $button = $('.js-popup');\n\n  $button.each(function() {\n\n    let $window = $(this).siblings('.js-popup-item'),\n        timeout;\n\n    $(this).add($window).on('mouseenter', function(event) {\n      if(device.desktop()) {\n        if(timeout) {\n          clearTimeout(timeout);\n        }\n        if($(event.target).closest($button).length)  {\n          $button.addClass('popupVisible');\n          $window.addClass('visible');\n        }\n      }\n    })\n\n    $(this).add($window).on('mouseleave', function() {\n      if(device.desktop()) {\n        if($(event.target).closest($button).length)  {\n          timeout = setTimeout(()=>{\n            $button.removeClass('popupVisible');\n            $window.removeClass('visible');\n          }, 500)\n        } else {\n          $button.removeClass('popupVisible');\n          $window.removeClass('visible');\n        }\n      }\n    })\n\n  })\n}\n\n/* HEADER */\nlet $header = {\n  init: function() {\n    this.el = $('.header');\n    this.isVisible = true;\n    this.isFixed = false;\n    this.scroll = $(window).scrollTop();\n    this.scroll_last = this.scroll;\n\n    this.checkFixed();\n\n    $(window).scroll(function(){\n      if(!nav.state) {\n        $header.checkVisible();\n      }\n    });\n  },\n  checkFixed: function() {\n    let h = $('.header').height();\n    //fix header\n    if (this.scroll>0 && !this.isFixed){\n      this.isFixed = true;\n      this.el.addClass('header_fixed');\n    } else if(this.scroll<=0 && this.isFixed) {\n      this.isFixed = false;\n      this.el.removeClass('header_fixed');\n    }\n  },\n  checkVisible: function() {\n    this.scroll = $(window).scrollTop();\n    this.checkFixed();\n    if (this.scroll>this.scroll_last && this.scroll>$(window).height()/2 && this.isVisible){\n      this.isVisible=false;\n      this.el.addClass('header_hidden');\n    } else if(this.scroll<this.scroll_last && !this.isVisible) {\n      this.isVisible=true;\n      this.el.removeClass('header_hidden');\n    }\n    this.scroll_last = this.scroll;\n  }\n}\n\nfunction addGradient() {\n  let $block = $('.block-list');\n\n  $block.each(function(){\n    let $this = $(this),\n        $items = $this.find('.block-list__item-icon'),\n        value = 0.5 / ($items.length-1),\n        itemValue = 0.5;\n    \n    $items.each(function() {\n      $(this).css('opacity', itemValue)\n      itemValue+=value;\n    })\n    \n  })\n}\n\nlet nav = {\n  init: function() {\n    this.$nav = $('.mobile-nav');\n    this.$toggle = $('.nav-toggle');\n\n    this.$toggle.on('click', (event)=>{\n      event.preventDefault();\n      if(this.flag) {\n        this.close();\n      } else {\n        this.open();\n      }\n    })\n    \n    $(document).on('click touchstart', (event)=>{\n      if($(event.target).closest('.mobile-nav__container').length==0 \n      && $(event.target).closest('.header').length==0\n      && $(event.target).closest(this.$toggle).length==0) {\n        console.log(this.flag)\n        if(this.flag==true) {\n          this.close();\n        }\n      }\n    })\n\n  }, \n\n  open: function() {\n    this.flag = true;\n    if(this.timout!==undefined) clearTimeout(this.timout)\n    scrollLock.disablePageScroll();\n    this.state = true;\n    $('header').addClass('header_nav-active')\n    this.$nav.addClass('active');\n    this.$toggle.addClass('active');\n  },\n\n  close: function() {\n    this.flag = false;\n    scrollLock.enablePageScroll();\n    $('header').removeClass('header_nav-active')\n    this.$nav.removeClass('active');\n    this.$toggle.removeClass('active');\n    this.timout = setTimeout(()=>{\n      this.state = false;\n    }, 250)\n  }\n}"]}