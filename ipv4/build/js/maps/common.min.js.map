{"version":3,"sources":["common.js"],"names":["lazySizes","cfg","init","preloadAfterLoad","document","hoverTouchEvents","lazy","popup","addGradient","$header","brakepoints","sm","md","lg","xl","xxl","$","$target","event","this","device","desktop","addClass","type","removeClass","el","addEventListener","e","target","style","backgroundImage","getAttribute","concat","bg","$button","$this","clearTimeout","timeout","on","$window","closest","length","setTimeout","add","$block","each","$items","find","value","itemValue","scroll","scroll_last","checkFixed","h","isVisible","isFixed","scrollTop","window","checkVisible","state","height","$toggle","preventDefault","nav","_this","$nav","flag","close","open","undefined","timout","scrollLock","disablePageScroll","_this2","enablePageScroll"],"mappings":"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","file":"../common.min.js","sourcesContent":["lazySizes.cfg.init = false;\nlazySizes.cfg.preloadAfterLoad = true;\n\n$(document).ready(function(){\n  hoverTouchEvents();\n  lazy();\n  popup();\n  addGradient();\n  $header.init();\n  nav.init();\n})\n\nconst brakepoints = {\n  sm: 576,\n  md: 768,\n  lg: 992,\n  xl: 1200,\n  xxl: 1400\n}\n\n//hover/touch custom events\nfunction hoverTouchEvents() {\n  $(document).on('mouseenter mouseleave touchstart touchend mousedown mouseup contextmenu', 'a,button,label,input,textarea,.js-touch-hover', function(event) {\n    let $target = $(this);\n    //mobile events\n    if(!device.desktop()) {\n      if(event.type=='touchstart') {\n        $target.addClass('touch');\n      } \n      else if(event.type=='touchend' || event.type=='contextmenu') {\n        $target.removeClass('touch');\n      }\n    } \n    //desktop events\n    else {\n      if(event.type=='mouseenter') {\n        $target.addClass('hover');\n      } \n      else if(event.type=='mousedown') {\n        $target.addClass('mousedown');\n      } \n      else if(event.type=='mouseup') {\n        $target.removeClass('mousedown');\n      } \n      else {\n        $target.removeClass('hover');\n        $target.removeClass('mousedown');\n      }\n    }  \n  })\n}\n\n//lazyloading\nfunction lazy() {\n  //add backgrounds\n  document.addEventListener('lazybeforeunveil', function(e){\n    let el = e.target.tagName,\n        bg = e.target.getAttribute('data-src');\n    if(el!=='IMG') {\n      let bg = e.target.getAttribute('data-src');\n      e.target.style.backgroundImage = `url('${bg}')`;\n    }\n  });\n  lazySizes.init();\n}\n\nfunction popup() {\n  let $button = $('.js-popup');\n\n  $button.each(function() {\n\n    let $window = $(this).siblings('.js-popup-item'),\n        $this = $(this),\n        timeout;\n\n    $(this).add($window).on('mouseenter click', function(event) {\n      if(device.desktop() && event.type=='mouseenter') {\n        if(timeout) {\n          clearTimeout(timeout);\n        }\n        if($(event.target).closest($this).length)  {\n          $this.addClass('popupVisible');\n          $window.addClass('visible');\n        }\n      } else {\n        $this.addClass('popupVisible');\n        $window.addClass('visible');\n      }\n    })\n\n    $(this).add($window).on('mouseleave', function() {\n      if(device.desktop()) {\n        if($(event.target).closest($this).length)  {\n          timeout = setTimeout(()=>{\n            $this.removeClass('popupVisible');\n            $window.removeClass('visible');\n          }, 500)\n        } else {\n          $this.removeClass('popupVisible');\n          $window.removeClass('visible');\n        }\n      }\n    })\n\n    $(document).on('touchstart', function(event) {\n      if($(event.target).closest($window).length==0 && $(event.target).closest($this).length==0) {\n        $this.removeClass('popupVisible');\n        $window.removeClass('visible');\n      }\n    })\n\n  })\n}\n\n\nfunction addGradient() {\n  let $block = $('.block-list');\n\n  $block.each(function(){\n    let $this = $(this),\n        $items = $this.find('.block-list__item-icon'),\n        value = 0.5 / ($items.length-1),\n        itemValue = 0.5;\n    \n    $items.each(function() {\n      $(this).css('opacity', itemValue)\n      itemValue+=value;\n    })\n    \n  })\n}\n\n\nlet $header = {\n  init: function() {\n    this.el = $('.header');\n    this.isVisible = true;\n    this.isFixed = false;\n    this.scroll = $(window).scrollTop();\n    this.scroll_last = this.scroll;\n\n    this.checkFixed();\n\n    $(window).scroll(function(){\n      if(!nav.state) {\n        $header.checkVisible();\n      }\n    });\n  },\n  checkFixed: function() {\n    let h = $('.header').height();\n    //fix header\n    if (this.scroll>0 && !this.isFixed){\n      this.isFixed = true;\n      this.el.addClass('header_fixed');\n    } else if(this.scroll<=0 && this.isFixed) {\n      this.isFixed = false;\n      this.el.removeClass('header_fixed');\n    }\n  },\n  checkVisible: function() {\n    this.scroll = $(window).scrollTop();\n    this.checkFixed();\n    if (this.scroll>this.scroll_last && this.scroll>$(window).height()/2 && this.isVisible){\n      this.isVisible=false;\n      this.el.addClass('header_hidden');\n    } else if(this.scroll<this.scroll_last && !this.isVisible) {\n      this.isVisible=true;\n      this.el.removeClass('header_hidden');\n    }\n    this.scroll_last = this.scroll;\n  }\n}\nlet nav = {\n  init: function() {\n    this.$nav = $('.mobile-nav');\n    this.$toggle = $('.nav-toggle');\n\n    this.$toggle.on('click', (event)=>{\n      event.preventDefault();\n      if(this.flag) {\n        this.close();\n      } else {\n        this.open();\n      }\n    })\n    \n    $(document).on('click touchstart', (event)=>{\n      if($(event.target).closest('.mobile-nav__container').length==0 \n      && $(event.target).closest('.header').length==0\n      && $(event.target).closest(this.$toggle).length==0) {\n        if(this.flag==true) {\n          this.close();\n        }\n      }\n    })\n\n  }, \n\n  open: function() {\n    this.flag = true;\n    if(this.timout!==undefined) clearTimeout(this.timout)\n    scrollLock.disablePageScroll();\n    this.state = true;\n    $('header').addClass('header_nav-active')\n    this.$nav.addClass('active');\n    this.$toggle.addClass('active');\n  },\n\n  close: function() {\n    this.flag = false;\n    scrollLock.enablePageScroll();\n    $('header').removeClass('header_nav-active')\n    this.$nav.removeClass('active');\n    this.$toggle.removeClass('active');\n    this.timout = setTimeout(()=>{\n      this.state = false;\n    }, 250)\n  }\n}"]}