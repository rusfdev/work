const brakepoints={sm:576,md:768,lg:1024,xl:1280,xxl:1600},$wrapper=document.querySelector(".wrapper"),$header=document.querySelector(".header");document.addEventListener("DOMContentLoaded",function(){new TouchHoverEvents("a, button, [data-touch-hover]").init(),toggle(),scrolling(),Advantages(),Nav.init(),Modal.init()}),window.onload=function(){document.body.classList.add("loaded")};class TouchHoverEvents{constructor(e){this.targets=e}init(){var e=e=>{let t=[];t[0]=e.target!==document?e.target.closest(this.targets):null;let o=t[0],a=0;for(;t[0]&&(o=o.parentNode,o!==document);)o.matches(this.targets)&&(a++,t[a]=o);if("touchstart"==e.type){if(this.touched=!0,this.timeout&&clearTimeout(this.timeout),t[0]){for(var s of document.querySelectorAll(this.targets))s.classList.remove("touch");for(var i of t)i.setAttribute("data-touch","")}}else("touchend"==e.type||"contextmenu"==e.type&&this.touched)&&(this.timeout=setTimeout(()=>{this.touched=!1},500),t[0]&&setTimeout(()=>{for(var e of t)e.removeAttribute("data-touch")},100));"mouseenter"==e.type&&!this.touched&&t[0]&&t[0]==e.target?t[0].setAttribute("data-hover",""):"mouseleave"==e.type&&!this.touched&&t[0]&&t[0]==e.target&&(t[0].removeAttribute("data-click"),t[0].removeAttribute("data-hover")),"mousedown"==e.type&&!this.touched&&t[0]?t[0].setAttribute("data-click",""):"mouseup"==e.type&&!this.touched&&t[0]&&t[0].removeAttribute("data-click")};document.addEventListener("touchstart",e),document.addEventListener("touchend",e),document.addEventListener("mouseenter",e,!0),document.addEventListener("mouseleave",e,!0),document.addEventListener("mousedown",e),document.addEventListener("mouseup",e),document.addEventListener("contextmenu",e)}}function toggle(){let e=$(".toggle-section");e.each(function(){let e=$(this),o=e.find(".toggle-section__trigger"),a=e.find(".toggle-section__content"),s=!!e.hasClass("is-active"),t;if(o.on("click",function(){s=!s,i()}),e.is("[data-hover]")){let t;o.add(a).on("mouseenter",function(e){TouchHoverEvents.touched||(t&&clearTimeout(t),s=!0,i())}),o.add(a).on("mouseleave",function(e){if(!TouchHoverEvents.touched){let e;e=$(this).is(o)?500:100,t=setTimeout(()=>{s=!1,i()},e)}})}function i(){s?(e.add(a).add(o).addClass("is-active"),e.is("[data-slide]")&&a.slideDown(250)):(e.add(o).add(a).removeClass("is-active"),e.is("[data-slide]")&&(t?a.stop().slideUp(250):a.hide(0)))}(e.is("[data-out-hide]")||e.is("[data-hover]"))&&$(document).on("click touchstart",function(e){let t=$(e.target);t.closest(a).length||t.closest(o).length||!s||(s=!1,i())}),i(),t=!0})}function scrolling(){let e=document.querySelectorAll("[data-scroll]");e.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();e=t.getAttribute("href");document.querySelector(e)&&(gsap.to(window,{duration:1,scrollTo:e,ease:"power2.inOut"}),Nav.state&&Nav.close())})})}function Advantages(){if(document.querySelector(".section-advantages")){let o=document.querySelectorAll(".section-advantages__card"),a=document.querySelectorAll(".section-advantages__item"),s=document.querySelector(".section-advantages__content"),i,n=[];a.forEach((e,t)=>{var o=e.querySelector(".section-advantages__item-image");n[t]=gsap.timeline({paused:!0}).fromTo(e,{autoAlpha:0},{autoAlpha:1,duration:.5,ease:"power2.inOut"}).fromTo(o,{scale:.8},{scale:1,duration:.5,ease:"power2.out"},"-=0.5")});let c=(e=0)=>{var t;e!==i&&(void 0!==i&&(o[i].classList.remove("is-active"),a[i].classList.remove("is-active"),n[i].timeScale(1.5).reverse()),o[e].classList.add("is-active"),a[e].classList.add("is-active"),n[e].timeScale(1).play(),t=a[e].getBoundingClientRect().height,gsap.to(s,{css:{height:t},duration:.5,ease:"power2.out"}),i=e)};c(),window.addEventListener("resize",()=>{var e=a[i].getBoundingClientRect().height;s.style.height=`${e}px`}),o.forEach((e,t)=>{e.addEventListener("click",()=>{c(t)}),e.addEventListener("mouseenter",()=>{c(t)})})}}const Nav={init:function(){this.$element=document.querySelector(".mobile-nav"),this.$toggle=document.querySelector(".mobile-nav-toggle"),this.change=()=>{this.state?this.close():this.open()},this.$toggle.addEventListener("click",()=>{this.change()}),this.$element.addEventListener("click",e=>{this.state&&!e.target.closest(".mobile-nav__content")&&this.close()})},open:function(){this.state=!0,this.$element.classList.add("active"),this.$toggle.classList.add("active"),scrollLock.disablePageScroll()},close:function(){this.state=!1,this.$element.classList.remove("active"),this.$toggle.classList.remove("active"),scrollLock.enablePageScroll()}},Modal={init:function(){gsap.registerEffect({name:"modal",effect:(e,t)=>{return gsap.timeline({paused:!0}).fromTo(e,{autoAlpha:0},{autoAlpha:1,duration:.5,ease:"power2.inOut"}).fromTo(t,{y:20},{y:0,duration:1,ease:"power2.out"},"-=0.5")},extendTimeline:!0}),document.addEventListener("click",e=>{let t=e.target.closest('[data-modal="open"]'),o=e.target.closest('[data-modal="close"]'),a=e.target.closest(".modal"),s=e.target.closest(".modal-block");t?(e.preventDefault(),e=document.querySelector(`${t.getAttribute("href")}`),this.open(e)):(o||!s&&a)&&this.close()})},open:function(t){var e=()=>{scrollLock.disablePageScroll(),t.classList.add("active");var e=t.querySelector(".modal-block");this.animation=gsap.effects.modal(t,e),this.animation.play(),this.$active=t};t&&(this.$active?this.close(e):e())},close:function(e){this.$active&&this.animation.timeScale(2).reverse().eventCallback("onReverseComplete",()=>{delete this.animation,scrollLock.enablePageScroll(),this.$active.classList.remove("active"),delete this.$active,e&&e()})}};