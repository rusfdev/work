{"version":3,"sources":["common.js"],"names":["lazySizes","cfg","init","brakepoints","sm","md","lg","xl","$","document","ready","TouchHoverEvents","select","lazy","console","log","targets","touched","touchEndDelay","addEventListener","event","events","$targets","target","closest","$element","i","parentNode","matches","type","timeout","clearTimeout","querySelectorAll","$target","classList","remove","add","setTimeout","dispatchEvent","CustomEvent","e","el","tagName","bg","getAttribute","style","backgroundImage","items","length","selectric","disableOnMobile","nativeOnMobile","arrowButtonMarkup"],"mappings":";;;;;;;;AAAAA,SAAS,CAACC,GAAV,CAAcC,IAAd,GAAqB,KAArB;AACA,IAAMC,WAAW,GAAG;AAClBC,EAAAA,EAAE,EAAE,GADc;AAElBC,EAAAA,EAAE,EAAE,GAFc;AAGlBC,EAAAA,EAAE,EAAE,IAHc;AAIlBC,EAAAA,EAAE,EAAE;AAJc,CAApB;AAOAC,CAAC,CAACC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAU;AAC1BC,EAAAA,gBAAgB,CAACT,IAAjB;AACAU,EAAAA,MAAM,CAACV,IAAP;AACAW,EAAAA,IAAI;AACJC,EAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AACD,CALD,E,CAOA;;AACA,IAAMJ,gBAAgB,GAAG;AACvBK,EAAAA,OAAO,EAAE,2DADc;AAEvBC,EAAAA,OAAO,EAAE,KAFc;AAGvBC,EAAAA,aAAa,EAAE,GAHQ;AAGH;AACpBhB,EAAAA,IAAI,EAAE,gBAAW;AAAA;;AACfO,IAAAA,QAAQ,CAACU,gBAAT,CAA0B,YAA1B,EAAyC,UAACC,KAAD,EAAS;AAAC,MAAA,KAAI,CAACC,MAAL,CAAYD,KAAZ;AAAmB,KAAtE;AACAX,IAAAA,QAAQ,CAACU,gBAAT,CAA0B,UAA1B,EAAyC,UAACC,KAAD,EAAS;AAAC,MAAA,KAAI,CAACC,MAAL,CAAYD,KAAZ;AAAmB,KAAtE;AACAX,IAAAA,QAAQ,CAACU,gBAAT,CAA0B,YAA1B,EAAyC,UAACC,KAAD,EAAS;AAAC,MAAA,KAAI,CAACC,MAAL,CAAYD,KAAZ;AAAmB,KAAtE,EAAuE,IAAvE;AACAX,IAAAA,QAAQ,CAACU,gBAAT,CAA0B,YAA1B,EAAyC,UAACC,KAAD,EAAS;AAAC,MAAA,KAAI,CAACC,MAAL,CAAYD,KAAZ;AAAmB,KAAtE,EAAuE,IAAvE;AACAX,IAAAA,QAAQ,CAACU,gBAAT,CAA0B,WAA1B,EAAyC,UAACC,KAAD,EAAS;AAAC,MAAA,KAAI,CAACC,MAAL,CAAYD,KAAZ;AAAmB,KAAtE;AACAX,IAAAA,QAAQ,CAACU,gBAAT,CAA0B,SAA1B,EAAyC,UAACC,KAAD,EAAS;AAAC,MAAA,KAAI,CAACC,MAAL,CAAYD,KAAZ;AAAmB,KAAtE;AACAX,IAAAA,QAAQ,CAACU,gBAAT,CAA0B,aAA1B,EAAyC,UAACC,KAAD,EAAS;AAAC,MAAA,KAAI,CAACC,MAAL,CAAYD,KAAZ;AAAmB,KAAtE;AACD,GAZsB;AAavBC,EAAAA,MAAM,EAAE,gBAASD,KAAT,EAAgB;AAAA;;AACtB,QAAIE,QAAQ,GAAG,EAAf;AACAA,IAAAA,QAAQ,CAAC,CAAD,CAAR,GAAcF,KAAK,CAACG,MAAN,KAAed,QAAf,GAAwBW,KAAK,CAACG,MAAN,CAAaC,OAAb,CAAqB,KAAKR,OAA1B,CAAxB,GAA2D,IAAzE;AACA,QAAIS,QAAQ,GAAGH,QAAQ,CAAC,CAAD,CAAvB;AAAA,QAA4BI,CAAC,GAAG,CAAhC;;AAEA,WAAMJ,QAAQ,CAAC,CAAD,CAAd,EAAmB;AACjBG,MAAAA,QAAQ,GAAGA,QAAQ,CAACE,UAApB;;AACA,UAAGF,QAAQ,KAAGhB,QAAd,EAAwB;AACtB,YAAGgB,QAAQ,CAACG,OAAT,CAAiB,KAAKZ,OAAtB,CAAH,EAAmC;AACjCU,UAAAA,CAAC;AACDJ,UAAAA,QAAQ,CAACI,CAAD,CAAR,GAAcD,QAAd;AACD;AACF,OALD,MAMK;AACH;AACD;AACF,KAhBqB,CAkBtB;;;AACA,QAAGL,KAAK,CAACS,IAAN,IAAY,YAAf,EAA6B;AAC3B,WAAKZ,OAAL,GAAe,IAAf;AACA,UAAG,KAAKa,OAAR,EAAiBC,YAAY,CAAC,KAAKD,OAAN,CAAZ;;AACjB,UAAGR,QAAQ,CAAC,CAAD,CAAX,EAAgB;AAAA,mDACKb,QAAQ,CAACuB,gBAAT,CAA0B,KAAKhB,OAA/B,CADL;AAAA;;AAAA;AACd;AAAA,gBAAQiB,OAAR;AAA4DA,YAAAA,OAAO,CAACC,SAAR,CAAkBC,MAAlB,CAAyB,OAAzB;AAA5D;AADc;AAAA;AAAA;AAAA;AAAA;;AAAA,oDAEKb,QAFL;AAAA;;AAAA;AAEd;AAAA,gBAAQW,QAAR;;AAA6BA,YAAAA,QAAO,CAACC,SAAR,CAAkBE,GAAlB,CAAsB,OAAtB;AAA7B;AAFc;AAAA;AAAA;AAAA;AAAA;AAGf;AACF,KAPD,CAQA;AARA,SASK,IAAGhB,KAAK,CAACS,IAAN,IAAY,UAAZ,IAA2BT,KAAK,CAACS,IAAN,IAAY,aAAZ,IAA6B,KAAKZ,OAAhE,EAA0E;AAC7E,aAAKa,OAAL,GAAeO,UAAU,CAAC,YAAM;AAAC,UAAA,MAAI,CAACpB,OAAL,GAAe,KAAf;AAAqB,SAA7B,EAA+B,GAA/B,CAAzB;;AACA,YAAGK,QAAQ,CAAC,CAAD,CAAX,EAAgB;AACde,UAAAA,UAAU,CAAC,YAAI;AAAA,wDACMf,QADN;AAAA;;AAAA;AACb,qEAA6B;AAAA,oBAArBW,SAAqB;;AAC3BA,gBAAAA,SAAO,CAACK,aAAR,CAAsB,IAAIC,WAAJ,CAAgB,gBAAhB,CAAtB;;AACAN,gBAAAA,SAAO,CAACC,SAAR,CAAkBC,MAAlB,CAAyB,OAAzB;AACD;AAJY;AAAA;AAAA;AAAA;AAAA;AAKd,WALS,EAKP,KAAKjB,aALE,CAAV;AAMD;AACF,OAtCqB,CAwCtB;;;AACA,QAAGE,KAAK,CAACS,IAAN,IAAY,YAAZ,IAA4B,CAAC,KAAKZ,OAAlC,IAA6CK,QAAQ,CAAC,CAAD,CAArD,IAA4DA,QAAQ,CAAC,CAAD,CAAR,IAAaF,KAAK,CAACG,MAAlF,EAA0F;AACxFD,MAAAA,QAAQ,CAAC,CAAD,CAAR,CAAYY,SAAZ,CAAsBE,GAAtB,CAA0B,OAA1B;AACD,KAFD,CAGA;AAHA,SAIK,IAAGhB,KAAK,CAACS,IAAN,IAAY,YAAZ,IAA4B,CAAC,KAAKZ,OAAlC,IAA6CK,QAAQ,CAAC,CAAD,CAArD,IAA4DA,QAAQ,CAAC,CAAD,CAAR,IAAaF,KAAK,CAACG,MAAlF,EAA0F;AAC7FD,QAAAA,QAAQ,CAAC,CAAD,CAAR,CAAYY,SAAZ,CAAsBC,MAAtB,CAA6B,OAA7B,EAAsC,OAAtC;AACD,OA/CqB,CAgDtB;;;AACA,QAAGf,KAAK,CAACS,IAAN,IAAY,WAAZ,IAA2B,CAAC,KAAKZ,OAAjC,IAA4CK,QAAQ,CAAC,CAAD,CAAvD,EAA4D;AAC1DA,MAAAA,QAAQ,CAAC,CAAD,CAAR,CAAYY,SAAZ,CAAsBE,GAAtB,CAA0B,OAA1B;AACD,KAFD,CAGA;AAHA,SAIK,IAAGhB,KAAK,CAACS,IAAN,IAAY,SAAZ,IAAyB,CAAC,KAAKZ,OAA/B,IAA2CK,QAAQ,CAAC,CAAD,CAAtD,EAA2D;AAC9DA,QAAAA,QAAQ,CAAC,CAAD,CAAR,CAAYY,SAAZ,CAAsBC,MAAtB,CAA6B,OAA7B;AACD;AACF;AArEsB,CAAzB,C,CAwEA;;AACA,SAAStB,IAAT,GAAgB;AACd;AACAJ,EAAAA,QAAQ,CAACU,gBAAT,CAA0B,kBAA1B,EAA8C,UAASqB,CAAT,EAAW;AACvD,QAAIC,EAAE,GAAGD,CAAC,CAACjB,MAAF,CAASmB,OAAlB;AAAA,QACIC,EAAE,GAAGH,CAAC,CAACjB,MAAF,CAASqB,YAAT,CAAsB,UAAtB,CADT;;AAEA,QAAGH,EAAE,KAAG,KAAR,EAAe;AACb,UAAIE,GAAE,GAAGH,CAAC,CAACjB,MAAF,CAASqB,YAAT,CAAsB,UAAtB,CAAT;;AACAJ,MAAAA,CAAC,CAACjB,MAAF,CAASsB,KAAT,CAAeC,eAAf,kBAAyCH,GAAzC;AACD;AACF,GAPD;AAQA3C,EAAAA,SAAS,CAACE,IAAV;AACD,C,CAED;;;AACA,IAAIU,MAAM,GAAG;AACXV,EAAAA,IAAI,EAAE,gBAAW;AACf,SAAK6C,KAAL,GAAavC,CAAC,CAAC,QAAD,CAAd;;AACA,QAAG,KAAKuC,KAAL,CAAWC,MAAd,EAAsB;AACpB,WAAKD,KAAL,CAAWE,SAAX,CAAqB;AACnBC,QAAAA,eAAe,EAAE,KADE;AAEnBC,QAAAA,cAAc,EAAE,KAFG;AAGnBC,QAAAA,iBAAiB,EAAE;AAHA,OAArB;AAKD;AACF;AAVU,CAAb","sourcesContent":["lazySizes.cfg.init = false;\nconst brakepoints = {\n  sm: 576,\n  md: 768,\n  lg: 1024,\n  xl: 1200\n}\n\n$(document).ready(function(){\n  TouchHoverEvents.init();\n  select.init();\n  lazy();\n  console.log('_')\n})\n\n//hover/touch custom events\nconst TouchHoverEvents = {\n  targets: 'a[class], button, label, tr, .jsTouchHover, .js-3d-object',\n  touched: false,\n  touchEndDelay: 100, //ms\n  init: function() {\n    document.addEventListener('touchstart',  (event)=>{this.events(event)});\n    document.addEventListener('touchend',    (event)=>{this.events(event)});\n    document.addEventListener('mouseenter',  (event)=>{this.events(event)},true);\n    document.addEventListener('mouseleave',  (event)=>{this.events(event)},true);\n    document.addEventListener('mousedown',   (event)=>{this.events(event)});\n    document.addEventListener('mouseup',     (event)=>{this.events(event)});\n    document.addEventListener('contextmenu', (event)=>{this.events(event)});\n  },\n  events: function(event) {\n    let $targets = [];\n    $targets[0] = event.target!==document?event.target.closest(this.targets):null;\n    let $element = $targets[0], i = 0;\n\n    while($targets[0]) {\n      $element = $element.parentNode;\n      if($element!==document) {\n        if($element.matches(this.targets)) {\n          i++;\n          $targets[i] = $element;\n        }\n      } \n      else {\n        break;\n      }\n    }\n\n    //touchstart\n    if(event.type=='touchstart') {\n      this.touched = true;\n      if(this.timeout) clearTimeout(this.timeout);\n      if($targets[0]) {\n        for(let $target of document.querySelectorAll(this.targets)) $target.classList.remove('touch');\n        for(let $target of $targets) $target.classList.add('touch');\n      }\n    } \n    //touchend\n    else if(event.type=='touchend' || (event.type=='contextmenu' && this.touched)) {\n      this.timeout = setTimeout(() => {this.touched = false}, 500);\n      if($targets[0]) {\n        setTimeout(()=>{\n          for(let $target of $targets) {\n            $target.dispatchEvent(new CustomEvent(\"customTouchend\"));\n            $target.classList.remove('touch');\n          }\n        }, this.touchEndDelay)\n      }\n    } \n    \n    //mouseenter\n    if(event.type=='mouseenter' && !this.touched && $targets[0] && $targets[0]==event.target) {\n      $targets[0].classList.add('hover');\n    }\n    //mouseleave\n    else if(event.type=='mouseleave' && !this.touched && $targets[0] && $targets[0]==event.target) {\n      $targets[0].classList.remove('hover', 'focus');\n    }\n    //mousedown\n    if(event.type=='mousedown' && !this.touched && $targets[0]) {\n      $targets[0].classList.add('focus');\n    } \n    //mouseup\n    else if(event.type=='mouseup' && !this.touched  && $targets[0]) {\n      $targets[0].classList.remove('focus');\n    }\n  }\n}\n\n//lazyloading\nfunction lazy() {\n  //add backgrounds\n  document.addEventListener('lazybeforeunveil', function(e){\n    let el = e.target.tagName,\n        bg = e.target.getAttribute('data-src');\n    if(el!=='IMG') {\n      let bg = e.target.getAttribute('data-src');\n      e.target.style.backgroundImage = `url('${bg}')`;\n    }\n  });\n  lazySizes.init();\n}\n\n//select\nlet select = {\n  init: function() {\n    this.items = $('select');\n    if(this.items.length) {\n      this.items.selectric({\n        disableOnMobile: false,\n        nativeOnMobile: false,\n        arrowButtonMarkup: '<svg class=\"icon\" viewBox=\"0 0 12 7\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.72606 -1.19209e-07L11.1403 1.41421L5.57036 6.98453L4.15614 5.57031L9.72606 -1.19209e-07Z\"/><path d=\"M0 1.41421L1.41421 1.19209e-07L6.98434 5.57047L5.57036 6.98453L0 1.41421Z\"/></svg>'\n      });\n    }\n  }\n}\n\n"],"file":"../common.js"}