{"version":3,"sources":["new.js"],"names":["$open","$close","$","$block","addClass","on","removeClass","document","ready","chatBlock","window","popup","init","$trigger","this","event","$popup","attr","length","open","$target","target","preventDefault","closest","close","_this","active","setTimeout","callback","_this2","undefined"],"mappings":"aA0DE,SACIA,YADJ,IAEIC,EAASC,EAAE,eAEfF,EAASE,EAAA,oBACPC,EAAOC,EAAAA,qBAETH,EAAMI,GAAN,QAAA,WACEF,EAAOG,SAAAA,YAEVL,EAAAI,GAAA,QAAA,WAFGF,EAAOG,YAAY,YAlEvBJ,EAAEK,UAAUC,MAAM,WAChBC,YADAF,MAAAA,SAGDG,OAHDC,MAAA,CAKAD,KAAOC,WACLC,KAAMC,SAAAX,EAAA,qBACJY,KAAKD,OAALX,EAAgBA,sBAGhBY,KAAKD,SAASR,GAAG,QAAS,SAAAU,GAGxBA,EAAIC,iBAAJ,IAAIA,EAASd,EAAEA,EAAEY,MAAMG,KAAK,SAC5BD,EAASE,QACPP,MAAMQ,KAAKH,KAKbd,EAAAK,UAAIa,GAAO,QAAWC,SAAtBN,GAAA,IAfSC,EAeLI,EAAUlB,EAAEa,EAAMM,SAMpBN,EAAMO,QAAAA,MAANrB,QAAAiB,QACAE,EAAIJ,QAASI,UAAQG,QAArB,GAAaH,EAAbG,QAAA,2BAAAL,UARJH,EAAAO,iBAdWN,EAAAI,EAAAG,QAAA,UA4BPZ,MAAAa,MAAAR,OAGFA,KAAAA,SAAOZ,GAFT,SAAAW,KACEU,EAAKC,OAASV,GAIRU,SAAQ,UAHE,IAAAD,EAAAX,KAIhBA,KAAAY,OADFf,MAIOa,MAAAV,KAAAY,OAAA,WACLX,MAIJS,KAEEG,MAAAA,SAAWX,EAAAY,GAAI,IAAAC,EAAAf,KACbE,EAAAV,YAAcwB,UACdH,WAAOC,WAFCC,EAAVH,YAAAI,EAID,mBAAAF,GAAAA,KAjDH","file":"../new.min.js","sourcesContent":["$(document).ready(function(){\n  chatBlock();\n  popup.init();\n})\n\nwindow.popup = {\n  init: function() {\n    this.$trigger = $('[data-popup-open]');\n    this.$close = $('[data-popup-close]')\n\n    this.$trigger.on('click', function(event) {\n      \n      event.preventDefault();\n      let $popup = $($(this).attr('href'));\n      if($popup.length) {\n        popup.open($popup);\n      }\n    })\n\n    $(document).on('click', function(event) {\n      let $target = $(event.target);\n      if(\n        ($target.closest(popup.$close).length) ||\n        ($target.closest('.popup').length && $target.closest('.popup-block__container').length==0)\n      ) \n      {\n        event.preventDefault();\n        let $popup = $target.closest('.popup');\n        popup.close($popup);\n      }\n    })\n\n  }, \n  open: function($popup) {\n    let event = () => {\n      this.active = $popup;\n      $popup.addClass('active');\n    }\n\n    if(this.active) {\n      popup.close(this.active, function() {\n        event();\n      });\n    } else {\n      event();\n    }\n\n  }, \n  close: function($popup, callback) {\n    $popup.removeClass('active');\n    setTimeout(()=>{\n      this.active = undefined;\n      typeof callback === 'function' && callback();\n    }, 250)\n  }\n}\n\nfunction chatBlock() {\n  let $block = $('.chat-block'),\n      $open = $('[data-chat-open]'),\n      $close = $('[data-chat-close]');\n\n  $open.on('click', function() {\n    $block.addClass('active');\n  })\n  $close.on('click', function() {\n    $block.removeClass('active');\n  })\n}"]}