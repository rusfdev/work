{"version":3,"sources":["common.js"],"names":["$","document","ready","images","init","nav","window","resize","max","innerWidth","documentElement","clientWidth","windowW","Math","el","Lazy","effectTime","threshold","imageBase","defaultImage","afterLoad","element","length","each","$this","box","parent","hasClass","addClass","boxH","height","boxW","width","setTimeout","imgH","removeClass","open","close","overlay","on","fadeIn","fadeOut","$target","event","this","val","replace","$plus","$minus","find","$input","check","console","log","$checkbox","input","prop"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\n  images.init();\n  nav.init();\n  calc.init();\n  $checkbox.init();\n});\n\n$(window).resize(function () {\n  windowW = Math.max(window.innerWidth, document.documentElement.clientWidth);\n  images.resize(images.el);\n});\n\n\nlet windowW = Math.max(window.innerWidth, document.documentElement.clientWidth);\nlet images = {\n  el: $('.lazy'),\n  init: function() {\n    if(images.el.length>0) {\n      images.el.Lazy({\n        effectTime: 0,\n        threshold: 500,\n        imageBase: false,\n        defaultImage: false,\n        afterLoad: function(element) {\n          images.resize($(element));\n        }\n      });\n    }\n  },\n  resize: function(element) {\n    if(images.el.length>0) {\n      element.each(function() {\n        let $this = $(this),\n            box = $this.parent();\n        if(!box.hasClass('cover-box_size-auto')) {\n          let boxH = box.height(),\n              boxW = box.width();\n          setTimeout(function() {\n            let imgH = $this.height(),\n                imgW = $this.width();\n            if ((boxW / boxH) >= (imgW / imgH)) {\n              $this.addClass('ww').removeClass('wh');\n            } else {\n              $this.addClass('wh').removeClass('ww');\n            }\n            $this.addClass('visible');\n          }, 300)\n        } else {\n          $this.addClass('visible');\n        }\n      })\n    }\n  }\n}\nlet nav = {\n  element: $('.nav'),\n  open: $('.nav-open-button'),\n  close: $('.nav-close-button'),\n  overlay: $('.overlay'),\n  init: function() {\n    nav.open.on('click', function() {\n      nav.element.addClass('active');\n      nav.overlay.fadeIn(300);\n    })\n    nav.close.on('click', function() {\n      nav.element.removeClass('active');\n      nav.overlay.fadeOut(300);\n    })\n    nav.overlay.on('click touchstart', function () {\n      nav.element.removeClass('active');\n      nav.overlay.fadeOut(300);\n    })\n  \n    $(window).resize(function () {\n      if (windowW > 768) {\n        nav.element.removeClass('active');\n        nav.overlay.fadeOut(300);\n      }\n    });\n  }\n}\n\n\n//num\n$(document).on('change input', 'input', function(event) {\n  let $target = $(this);\n  if($target.hasClass('number-only')) {\n    $target.val( $target.val().replace(/\\D/, '') )\n  }\n})\n\n//calc\nlet calc = {\n  element: $('.calc-count-block'),\n  init: function() {\n    this.element.each(function() {\n      let $this = $(this),\n          $plus = $this.find('.js-plus'),\n          $minus = $this.find('.js-minus'),\n          $input = $this.find('input'),\n          val = +$input.val();\n      \n      check();\n      $plus.on('click', function() {\n        val++;\n        check();\n      })\n      $minus.on('click', function() {\n        val--;\n        check();\n      })\n      $input.on('change input', function() {\n        setTimeout(function() {\n          val = +$input.val();\n          check();\n        },100)\n      })\n\n      function check() {\n        console.log(val)\n        if(val<1 || val==1) {\n          val=1;\n          $minus.addClass('disabled');\n        } else {\n          $minus.removeClass('disabled');\n        }\n        $input.val(val);\n      }\n    })\n  }\n}\n\n//checkboxes\nwindow.$checkbox = {\n  init: function() {\n    $checkbox.check();\n\n    $(document).on('click', '.checkbox', function() {\n      $checkbox.check();\n    })\n    \n    $(document).on('click', '.radio', function() {\n      $checkbox.check();\n    })\n\n  },\n  check: function() {\n    $('.checkbox, .radio').each(function() {\n      let input = $(this).find('input');\n      if(input.prop('disabled')) {\n        $(this).addClass('disabled');\n      } else {\n        $(this).removeClass('disabled');\n      }\n      if(input.prop('checked')) {\n        $(this).addClass('checked');\n      } else {\n        $(this).removeClass('checked');\n      }\n    })\n  }\n}"]}