lazySizes.cfg.preloadAfterLoad=!0;const brakepoints={sm:576,md:768,lg:1024,xl:1280,xxl:1600},$body=document.body,$wrapper=document.querySelector(".wrapper"),$header=document.querySelector(".header");function mobile(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}const TouchHoverEvents={targets:"a, button, label, tr, .js-touch-hover",touched:!(window.onload=function(){TouchHoverEvents.init(),Modal.init(),Mask.init(),gallery(),mobile();var e=document.querySelector(".reviews-section__slider");e&&new ReviewsSlider(e).init(),!mobile()&&window.innerWidth>=brakepoints.lg&&new Rellax(".rellax"),$body.classList.add("loaded")}),touchEndDelay:100,init:function(){document.addEventListener("touchstart",e=>{this.events(e)}),document.addEventListener("touchend",e=>{this.events(e)}),document.addEventListener("mouseenter",e=>{this.events(e)},!0),document.addEventListener("mouseleave",e=>{this.events(e)},!0),document.addEventListener("mousedown",e=>{this.events(e)}),document.addEventListener("mouseup",e=>{this.events(e)}),document.addEventListener("contextmenu",e=>{this.events(e)})},events:function(e){let t=[];t[0]=e.target!==document?e.target.closest(this.targets):null;let o=t[0],n=0;for(;t[0]&&(o=o.parentNode,o!==document);)o.matches(this.targets)&&(n++,t[n]=o);if("touchstart"==e.type){if(this.touched=!0,this.timeout&&clearTimeout(this.timeout),t[0]){for(var s of document.querySelectorAll(this.targets))s.classList.remove("touch");for(var i of t)i.setAttribute("data-touch","")}}else("touchend"==e.type||"contextmenu"==e.type&&this.touched)&&(this.timeout=setTimeout(()=>{this.touched=!1},500),t[0]&&setTimeout(()=>{for(var e of t)e.dispatchEvent(new CustomEvent("customTouchend")),e.removeAttribute("data-touch")},this.touchEndDelay));"mouseenter"==e.type&&!this.touched&&t[0]&&t[0]==e.target?t[0].setAttribute("data-hover",""):"mouseleave"==e.type&&!this.touched&&t[0]&&t[0]==e.target&&(t[0].removeAttribute("data-focus"),t[0].removeAttribute("data-hover")),"mousedown"==e.type&&!this.touched&&t[0]?t[0].setAttribute("data-focus",""):"mouseup"==e.type&&!this.touched&&t[0]&&t[0].removeAttribute("data-focus")}},Modal={init:function(){this.$modals=document.querySelectorAll(".modal"),document.addEventListener("click",e=>{let t=e.target.closest('[data-modal="open"]'),o=e.target.closest('[data-modal="close"]'),n=e.target.closest(".modal"),s=e.target.closest(".modal-block");t?(e.preventDefault(),e=document.querySelector(`${t.getAttribute("href")}`),this.open(e)):(o||!s&&n)&&this.close()})},open:function(e){var t;e&&(t=()=>{this.$active=e,scrollLock.disablePageScroll(),e.classList.add("active")},this.$active?this.close(t):t())},close:function(e){this.$active&&(this.$active.classList.remove("active"),setTimeout(()=>{delete this.$active,scrollLock.enablePageScroll(),e&&e()},500))}},Mask={init:function(){var e=document.querySelectorAll("[data-phone]");e.length&&Inputmask({mask:"+7 (999) 999-99-99",showMaskOnHover:!1,clearIncomplete:!1}).mask(e)}},windowSize={init:function(){let e=document.createElement("div");e.style.cssText="position:fixed;height:100%;",$body.insertAdjacentElement("beforeend",e);let t=e.getBoundingClientRect().height;(()=>{let e=document.querySelectorAll(".screen");e.forEach(e=>{e.style.height=`${t}px`})})()}};function gallery(){$.fancybox.defaults.i18n.ru={CLOSE:"Закрыть",NEXT:"Следующий слайд",PREV:"Предидущий слайд",ERROR:"Ошибка загрузки, попробуйте позже",PLAY_START:"Запустить слайд-шоу",PLAY_STOP:"Остановить слайд-шоу",FULL_SCREEN:"Полноэкранный режим",THUMBS:"Миниатюры",DOWNLOAD:"Загрузить",SHARE:"Поделиться",ZOOM:"Увеличить"},$.fancybox.defaults.lang="ru",$.fancybox.defaults.loop=!1,$.fancybox.defaults.autoFocus=!1,$.fancybox.defaults.backFocus=!1,$.fancybox.defaults.hideScrollbar=!1,$.fancybox.defaults.animationDuration=500,$(document).on("beforeShow.fb",function(){scrollLock.disablePageScroll()}),$(document).on("afterClose.fb",function(){scrollLock.clearQueueScrollLocks(),scrollLock.enablePageScroll()})}class ReviewsSlider{constructor(e){this.$block=e}init(){this.slider=new Splide(this.$block,{type:"loop",perMove:1,focus:"center",autoWidth:!0,arrows:!0,pagination:!0,updateOnMove:!0,waitForTransition:!1,gap:20,speed:500}),this.slider.mount()}}