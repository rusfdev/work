{"version":3,"sources":["scripts.js"],"names":["window","onload","TouchHoverEvents","init","Slider","brakepoints","sm","md","lg","xl","xxl","$body","document","body","$wrapper","querySelector","speed","targets","touched","touchEndDelay","addEventListener","event","events","$targets","target","closest","$element","i","parentNode","matches","type","timeout","clearTimeout","querySelectorAll","$target","classList","remove","setAttribute","setTimeout","dispatchEvent","CustomEvent","removeAttribute","Mask","Inputmask","mask","showMaskOnHover","clearIncomplete","index","m","$slides","$next","$back","getPrev","value","getNext","forEach","$button","inAnimation","change","add","old","next","animation","gsap","timeline","paused","$slide","$prev_slide","$next_slide","to","autoAlpha","duration","ease","fromTo","y","getBoundingClientRect","height","play"],"mappings":"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","sourcesContent":["window.onload = function(){\n  TouchHoverEvents.init();\n  Slider.init();\n}\n\nconst brakepoints = {\n  sm: 576,\n  md: 768,\n  lg: 1024,\n  xl: 1280,\n  xxl: 1600\n}\nconst $body = document.body;\nconst $wrapper = document.querySelector('.wrapper');\nconst speed = 0.5; //seconds\n\n\nconst TouchHoverEvents = {\n  targets: 'a, button, label, tr, .jsTouchHover',\n  touched: false,\n  touchEndDelay: 100, //ms\n  init: function() {\n    document.addEventListener('touchstart',  (event)=>{this.events(event)});\n    document.addEventListener('touchend',    (event)=>{this.events(event)});\n    document.addEventListener('mouseenter',  (event)=>{this.events(event)},true);\n    document.addEventListener('mouseleave',  (event)=>{this.events(event)},true);\n    document.addEventListener('mousedown',   (event)=>{this.events(event)});\n    document.addEventListener('mouseup',     (event)=>{this.events(event)});\n    document.addEventListener('contextmenu', (event)=>{this.events(event)});\n  },\n  events: function(event) {\n    let $targets = [];\n    $targets[0] = event.target!==document?event.target.closest(this.targets):null;\n    let $element = $targets[0], i = 0;\n\n    while($targets[0]) {\n      $element = $element.parentNode;\n      if($element!==document) {\n        if($element.matches(this.targets)) {\n          i++;\n          $targets[i] = $element;\n        }\n      } \n      else {\n        break;\n      }\n    }\n\n    //touchstart\n    if(event.type=='touchstart') {\n      this.touched = true;\n      if(this.timeout) clearTimeout(this.timeout);\n      if($targets[0]) {\n        for(let $target of document.querySelectorAll(this.targets)) $target.classList.remove('touch');\n        for(let $target of $targets) $target.setAttribute('data-touch', '');\n      }\n    } \n    //touchend\n    else if(event.type=='touchend' || (event.type=='contextmenu' && this.touched)) {\n      this.timeout = setTimeout(() => {this.touched = false}, 500);\n      if($targets[0]) {\n        setTimeout(()=>{\n          for(let $target of $targets) {\n            $target.dispatchEvent(new CustomEvent(\"customTouchend\"));\n            $target.removeAttribute('data-touch');\n          }\n        }, this.touchEndDelay)\n      }\n    } \n    \n    //mouseenter\n    if(event.type=='mouseenter' && !this.touched && $targets[0] && $targets[0]==event.target) {\n      $targets[0].setAttribute('data-hover', '');\n    }\n    //mouseleave\n    else if(event.type=='mouseleave' && !this.touched && $targets[0] && $targets[0]==event.target) {\n      $targets[0].removeAttribute('data-focus');\n      $targets[0].removeAttribute('data-hover');\n    }\n    //mousedown\n    if(event.type=='mousedown' && !this.touched && $targets[0]) {\n      $targets[0].setAttribute('data-focus', '');\n    } \n    //mouseup\n    else if(event.type=='mouseup' && !this.touched  && $targets[0]) {\n      $targets[0].removeAttribute('data-focus');\n    }\n  }\n}\n\nconst Mask = {\n  init: function() {\n    Inputmask({\n      mask: \"+7 999 999-9999\",\n      showMaskOnHover: false,\n      clearIncomplete: false\n    }).mask('[data-phone]');\n  }\n}\n\nconst Slider = {\n  init: function() {\n    this.index = 0;\n    this.m = 120;\n    this.$slides = document.querySelectorAll('.calculator-slide');\n    this.$next = document.querySelectorAll('.calculator-slide__next-button');\n    this.$back = document.querySelector('.calculator__back-button');\n\n    this.getPrev = ()=>{\n      let value = this.index-1;\n      return value;\n    }\n    this.getNext = ()=>{\n      let value = this.index+1;\n      return value;\n    }\n\n    //listeners\n    this.$next.forEach(($button)=>{\n      $button.addEventListener('click', ()=>{\n        if(!this.inAnimation) {\n          this.index++;\n          this.change();\n        }\n      })\n    })\n    this.$back.addEventListener('click', ()=>{\n      if(!this.inAnimation) {\n        this.index--;\n        this.change();\n      }\n    })\n\n    this.change();\n\n  },\n\n  change: function() {\n    this.inAnimation = true;\n    if(this.index==0) {\n      this.$back.classList.remove('active');\n    } else {\n      this.$back.classList.add('active');\n    }\n\n    if(!this.old || this.old<this.index) {\n      this.next();\n    } \n\n\n    /* gsap.timeline()\n      .to($slide, {autoAlpha:1, duration:speed, ease:'power2.inOut'})\n      .to($slide, {y:0, duration:speed, ease:'power2.out'}, `-=${speed}`)\n\n    if(this.index==0 || this.index==1 || this.index==2) {\n      let y = $slide.getBoundingClientRect().height;\n      gsap.timeline()\n        .to($next, {autoAlpha:0.3, duration:speed, ease:'power2.inOut'})\n        .fromTo($next, {y:y+this.m+this.m}, {y:y+this.m, duration:speed, ease:'power2.out'}, `-=${speed}`)\n    } */\n\n\n  },\n  next: function() {\n    this.animation = gsap.timeline({paused:true})\n    let $slide = this.$slides[this.index],\n        $prev_slide = this.$slides[this.getPrev()],\n        $next_slide = this.$slides[this.getNext()];\n\n    if(!this.old) {\n      let timeline = gsap.timeline()\n        .to($slide, {autoAlpha:1, duration:speed, ease:'power2.inOut'})\n        .fromTo($slide, {y:this.m}, {y:0, duration:speed, ease:'power2.out'}, `-=${speed}`)\n      this.animation.add(timeline, `>`)\n    } else {\n      let timeline = gsap.timeline()\n        .to($prev_slide, {autoAlpha:0, duration:speed, ease:'power2.out'})\n        .to($slide, {autoAlpha:1, duration:speed, ease:'power2.inOut'})\n        .to($slide, {y:0, duration:speed, ease:'power2.out'}, `-=${speed}`)\n      this.animation.add(timeline, `>`)\n    }\n\n    if(this.index==0 || this.index==1 || this.index==2) {\n      let y = $slide.getBoundingClientRect().height;\n      let timeline = gsap.timeline()\n        .to($next_slide, {autoAlpha:0.3, duration:speed, ease:'power2.inOut'})\n        .fromTo($next_slide, {y:y+this.m+this.m}, {y:y+this.m, duration:speed, ease:'power2.out'}, `-=${speed}`)\n      this.animation.add(timeline, `>-${speed-0.1}`)\n    }\n\n\n\n\n    this.animation.play();\n\n  }\n}\n"],"file":"../scripts.js"}