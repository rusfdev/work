"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(j,h){function i(y,A,k,t,e){function n(){var r,o,i,c;v=1<j.devicePixelRatio,k=a(k),0<=A.delay&&setTimeout(function(){u(!0)},A.delay),(A.delay<0||A.combined)&&(t.e=(r=A.throttle,o=function(t){"resize"===t.type&&(w=z=-1),u(t.all)},c=0,function(t,e){function n(){c=+new Date,o.call(y,t)}var a=+new Date-c;i&&clearTimeout(i),r<a||!A.enableThrottle||e?n():i=setTimeout(n,r-a)}),t.a=function(t){t=a(t),k.push.apply(k,t)},t.g=function(){return k=E(k).filter(function(){return!E(this).data(A.loadedName)})},t.f=function(t){for(var e=0;e<t.length;e++){var n=k.filter(function(){return this===t[e]});n.length&&u(!1,n)}},u(),E(A.appendScroll).on("scroll."+e+" resize."+e,t.e))}function a(t){for(var e=A.defaultImage,n=A.placeholder,a=A.imageBase,r=A.srcsetAttribute,o=A.loaderAttribute,i=A._f||{},c=0,u=(t=E(t).filter(function(){var t=E(this),e=x(this);return!t.data(A.handledName)&&(t.attr(A.attribute)||t.attr(r)||t.attr(o)||i[e]!==h)}).data("plugin_"+A.name,y)).length;c<u;c++){var l=E(t[c]),f=x(t[c]),s=l.attr(A.imageBaseAttribute)||a;f===R&&s&&l.attr(r)&&l.attr(r,d(l.attr(r),s)),i[f]===h||l.attr(o)||l.attr(o,i[f]),f===R&&e&&!l.attr(D)?l.attr(D,e):f===R||!n||l.css(_)&&"none"!==l.css(_)||l.css(_,"url('"+n+"')")}return t}function u(t,e){if(k.length){for(var n=e||k,a=!1,r=A.imageBase||"",o=A.srcsetAttribute,i=A.handledName,c=0;c<n.length;c++)if(t||e||(h=n[c],void 0,m=h.getBoundingClientRect(),p=A.scrollDirection,g=A.threshold,b=(0<=z?z:z=E(j).height())+g>m.top&&-g<m.bottom,v=(0<=w?w:w=E(j).width())+g>m.left&&-g<m.right,"vertical"===p?b:"horizontal"===p?v:b&&v)){var u=E(n[c]),l=x(n[c]),f=u.attr(A.attribute),s=u.attr(A.imageBaseAttribute)||r,d=u.attr(A.loaderAttribute);u.data(i)||A.visibleOnly&&!u.is(":visible")||!((f||u.attr(o))&&(l===R&&(s+f!==u.attr(D)||u.attr(o)!==u.attr(B))||l!==R&&s+f!==u.css(_))||d)||(a=!0,u.data(i,!0),$(u,l,s,d))}var h,m,p,g,b,v;a&&(k=E(k).filter(function(){return!E(this).data(i)}))}else A.autoDestroy&&y.destroy()}function $(e,t,n,a){++b;var r=function(){g("onError",e),p(),r=E.noop};g("beforeLoad",e);var o=A.attribute,i=A.srcsetAttribute,c=A.sizesAttribute,u=A.retinaAttribute,l=A.removeAttribute,f=A.loadedName,s=e.attr(u);if(a){var d=function(){l&&e.removeAttr(A.loaderAttribute),e.data(f,!0),g(S,e),setTimeout(p,1),d=E.noop};e.off(C).one(C,r).one(T,d),g(a,e,function(t){t?(e.off(T),d()):(e.off(C),r())})||e.trigger(C)}else{var h=E(new Image);h.one(C,r).one(T,function(){e.hide(),t===R?e.attr(N,h.attr(N)).attr(B,h.attr(B)).attr(D,h.attr(D)):e.css(_,"url('"+h.attr(D)+"')"),e[A.effect](A.effectTime),l&&(e.removeAttr(o+" "+i+" "+u+" "+A.imageBaseAttribute),c!==N&&e.removeAttr(c)),e.data(f,!0),g(S,e),h.remove(),p()});var m=(v&&s?s:e.attr(o))||"";h.attr(N,e.attr(c)).attr(B,e.attr(i)).attr(D,m?n+m:null),h.complete&&h.trigger(T)}}function x(t){return t.tagName.toLowerCase()}function d(t,e){if(e){var n=t.split(",");t="";for(var a=0,r=n.length;a<r;a++)t+=e+n[a].trim()+(a!==r-1?",":"")}return t}function p(){--b,k.length||b||g("onFinishedAll")}function g(t,e,n){return!!(t=A[t])&&(t.apply(y,[].slice.call(arguments,1)),!0)}var b=0,w=-1,z=-1,v=!1,S="afterLoad",T="load",C="error",R="img",D="src",B="srcset",N="sizes",_="background-image";"event"===A.bind||r?n():E(j).on(T+"."+e,n)}function l(t,e){var n=this,a=E.extend({},n.config,e),r={},o=a.name+"-"+ ++c;return n.config=function(t,e){return e===h?a[t]:(a[t]=e,n)},n.addItems=function(t){return r.a&&r.a("string"===E.type(t)?E(t):t),n},n.getItems=function(){return r.g?r.g():{}},n.update=function(t){return r.e&&r.e({},!t),n},n.force=function(t){return r.f&&r.f("string"===E.type(t)?E(t):t),n},n.loadAll=function(){return r.e&&r.e({all:!0},!0),n},n.destroy=function(){return E(a.appendScroll).off("."+o,r.e),E(j).off("."+o),r={},h},i(n,a,t,r,o),a.chainable?t:n}var E=j.jQuery||j.Zepto,c=0,r=!1;E.fn.Lazy=E.fn.lazy=function(t){return new l(this,t)},E.Lazy=E.lazy=function(t,e,n){if(E.isFunction(e)&&(n=e,e=[]),E.isFunction(n)){t=E.isArray(t)?t:[t],e=E.isArray(e)?e:[e];for(var a=l.prototype.config,r=a._f||(a._f={}),o=0,i=t.length;o<i;o++)(a[t[o]]===h||E.isFunction(a[t[o]]))&&(a[t[o]]=n);for(var c=0,u=e.length;c<u;c++)r[e[c]]=t[0]}},l.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:j,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:h,afterLoad:h,onError:h,onFinishedAll:h},E(j).on("load",function(){r=!0})}(window),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?t(require("jquery")):t(jQuery)}(function(w){var i;(i=window.jQuery||window.Zepto).lazy(["frame","iframe"],"iframe",function(e,t){var n=this;if("iframe"===e[0].tagName.toLowerCase()){var a="data-src",r="data-error-detect",o=e.attr(r);"true"!==o&&"1"!==o?(e.attr("src",e.attr(a)),n.config("removeAttribute")&&e.removeAttr(a+" "+r)):i.ajax({url:e.attr(a),dataType:"html",crossDomain:!0,xhrFields:{withCredentials:!0},success:function(t){e.html(t).attr("src",e.attr(a)),n.config("removeAttribute")&&e.removeAttr(a+" "+r)},error:function(){t(!1)}})}else t(!1)});var a,t=navigator.userAgent,z=/iphone/i.test(t),r=/chrome/i.test(t),S=/android/i.test(t);w.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},w.fn.extend({caret:function(t,e){var n;if(0!==this.length&&!this.is(":hidden")&&this.get(0)===document.activeElement)return"number"==typeof t?(e="number"==typeof e?e:t,this.each(function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select())})):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),t=0-n.duplicate().moveStart("character",-1e5),e=t+n.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(e,b){var n,v,y,A,k,$,x;if(!e&&0<this.length){var t=w(this[0]).data(w.mask.dataName);return t?t():void 0}return b=w.extend({autoclear:w.mask.autoclear,placeholder:w.mask.placeholder,completed:null},b),n=w.mask.definitions,v=[],y=$=e.length,A=null,e=String(e),w.each(e.split(""),function(t,e){"?"==e?($--,y=t):n[e]?(v.push(new RegExp(n[e])),null===A&&(A=v.length-1),t<y&&(k=v.length-1)):v.push(null)}),this.trigger("unmask").each(function(){var i=w(this),c=w.map(e.split(""),function(t,e){if("?"!=t)return n[t]?f(e):t}),u=c.join(""),o=i.val();function l(){if(b.completed){for(var t=A;t<=k;t++)if(v[t]&&c[t]===f(t))return;b.completed.call(i)}}function f(t){return t<b.placeholder.length?b.placeholder.charAt(t):b.placeholder.charAt(0)}function s(t){for(;++t<$&&!v[t];);return t}function d(t,e){var n,a;if(!(t<0)){for(n=t,a=s(e);n<$;n++)if(v[n]){if(!(a<$&&v[n].test(c[a])))break;c[n]=c[a],c[a]=f(a),a=s(a)}p(),i.caret(Math.max(A,t))}}function h(t){g(),i.val()!=o&&i.change()}function m(t,e){var n;for(n=t;n<e&&n<$;n++)v[n]&&(c[n]=f(n))}function p(){i.val(c.join(""))}function g(t){var e,n,a,r=i.val(),o=-1;for(a=e=0;e<$;e++)if(v[e]){for(c[e]=f(e);a++<r.length;)if(n=r.charAt(a-1),v[e].test(n)){c[e]=n,o=e;break}if(a>r.length){m(e+1,$);break}}else c[e]===r.charAt(a)&&a++,e<y&&(o=e);return t?p():o+1<y?b.autoclear||c.join("")===u?(i.val()&&i.val(""),m(0,$)):p():(p(),i.val(i.val().substring(0,o+1))),y?e:A}i.data(w.mask.dataName,function(){return w.map(c,function(t,e){return v[e]&&t!=f(e)?t:null}).join("")}),i.one("unmask",function(){i.off(".mask").removeData(w.mask.dataName)}).on("focus.mask",function(){var t;i.prop("readonly")||(clearTimeout(a),o=i.val(),t=g(),a=setTimeout(function(){i.get(0)===document.activeElement&&(p(),t==e.replace("?","").length?i.caret(0,t):i.caret(t))},10))}).on("blur.mask",h).on("keydown.mask",function(t){if(!i.prop("readonly")){var e,n,a,r=t.which||t.keyCode;x=i.val(),8===r||46===r||z&&127===r?(n=(e=i.caret()).begin,(a=e.end)-n==0&&(n=46!==r?function(t){for(;0<=--t&&!v[t];);return t}(n):a=s(n-1),a=46===r?s(a):a),m(n,a),d(n,a-1),t.preventDefault()):13===r?h.call(this,t):27===r&&(i.val(o),i.caret(0,g()),t.preventDefault())}}).on("keypress.mask",function(t){if(!i.prop("readonly")){var e,n,a,r=t.which||t.keyCode,o=i.caret();t.ctrlKey||t.altKey||t.metaKey||r<32||!r||13===r||(o.end-o.begin!=0&&(m(o.begin,o.end),d(o.begin,o.end-1)),(e=s(o.begin-1))<$&&(n=String.fromCharCode(r),v[e].test(n))&&(function(t){var e,n,a,r;for(n=f(e=t);e<$;e++)if(v[e]){if(a=s(e),r=c[e],c[e]=n,!(a<$&&v[a].test(r)))break;n=r}}(e),c[e]=n,p(),a=s(e),S?setTimeout(function(){w.proxy(w.fn.caret,i,a)()},0):i.caret(a),o.begin<=k&&l()),t.preventDefault())}}).on("input.mask paste.mask",function(){i.prop("readonly")||setTimeout(function(){var t=g(!0);i.caret(t),l()},0)}),r&&S&&i.off("input.mask").on("input.mask",function(t){var e=i.val(),n=i.caret();if(x&&x.length&&x.length>e.length){for(g(!0);0<n.begin&&!v[n.begin-1];)n.begin--;if(0===n.begin)for(;n.begin<A&&!v[n.begin];)n.begin++;i.caret(n.begin,n.begin)}else{g(!0);var a=e.charAt(n.begin);n.begin<$&&(v[n.begin]||n.begin++,v[n.begin].test(a)&&n.begin++),i.caret(n.begin,n.begin)}l()}),g()})}})}),$(document).ready(function(){lazy(),checkbox(),mask(),popup()});var $checkbox=$(".checkbox input"),$popup=$(".popup"),$close=$(".popup-close, .popup__bg");function mask(){$(".masked").mask("+7 (999) 999-99"),$.fn.setCursorPosition=function(t){if($(this).get(0).setSelectionRange)$(this).get(0).setSelectionRange(t,t);else if($(this).get(0).createTextRange){var e=$(this).get(0).createTextRange();e.collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()}},$(document).on("click",".masked",function(){$(this).setCursorPosition(4)})}function lazy(){$(".lazy").Lazy({effectTime:0,threshold:500,imageBase:!1,defaultImage:!1,afterLoad:function(t){t.addClass("visible")}})}function checkbox(){$checkbox.on("change",function(t){checkboxCheck()})}function checkboxCheck(){$checkbox.each(function(){$(this).prop("checked")?$(this).parent().addClass("checked"):$(this).parent().removeClass("checked")}),totalPrice()}function totalPrice(){var t=0,e=$(".form__total-price span");$checkbox.each(function(){$(this).prop("checked")&&(t+=+$(this).data("price"))}),e.text(t+" р."),$(".total-price").val(t+" р.")}function popup(){$close.on("click",function(t){t.preventDefault(),$popup.fadeOut(300)})}function popupOpen(){$popup.fadeIn(300),setTimeout(function(){$popup.fadeOut(300)},2e3)}
//# sourceMappingURL=maps/common.min.js.map
