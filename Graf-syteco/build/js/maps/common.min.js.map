{"version":3,"sources":["common.js"],"names":["lazySizes","cfg","init","$","document","ready","touchHoverEvents","lazy","toggle","select","header","mask","Inputmask","showMaskOnHover","clearIncomplete","sm","md","window","lg","addEventListener","event","targets","timeout","$targets","target","closest","$element","i","matches","type","isTouch","clearTimeout","_step","_iterator","_createForOfIteratorHelper","querySelectorAll","classList","remove","err","e","f","_step2","_iterator2","add","setTimeout","_step3","_iterator3","s","n","done","value","touchEndDelay","_step4","_iterator4","$target","bg","el","getAttribute","style","backgroundImage","concat","this","items","length","disableOnMobile","nativeOnMobile","arrowButtonMarkup","isVisible","isFixed","scroll","scrollTop","scroll_last","checkFixed","height","removeClass","checkVisible","addClass","nav","_this","$nav","preventDefault","on","$toggle","flag","open","undefined","timout","scrollLock","disablePageScroll","close","_this2","slider","arrowPrev","arrowNext","slideCount","slideCountLg","slideCountMd","slideCountSm","slideCountXs","arrows","prevArrow","initSlider","slick","dots","nextArrow","centerMode","autoplay","brakepoints","slidesToShow","slidesToScroll","breakpoint","settings","is","xs","enablePageScroll","responsive","children","$this","autoplaySpeed","check","state","$content","stop","slideUp","hide","delay","hasClass","initialized"],"mappings":"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","file":"../common.min.js","sourcesContent":["lazySizes.cfg.init = false;\n\n$(document).ready(function(){\n  touchHoverEvents();\n  lazy();\n  toggle();\n  select.init();\n  header.init();\n  nav.init();\n  slider.init();\n\n  window.mask = Inputmask({\n    mask: \"+7 999 999-9999\",\n    showMaskOnHover: false,\n    clearIncomplete: false\n  }).mask('.input__phone');\n})\n\nwindow.isTouch = false;\nconst brakepoints = {\n  xs: 576,\n  sm: 768,\n  md: 992,\n  lg: 1200\n}\n\n\n//hover/touch custom events\nfunction touchHoverEvents() {\n  document.addEventListener('touchstart', event);\n  document.addEventListener('touchend', event);\n  document.addEventListener('mouseenter', event, true);\n  document.addEventListener('mouseleave', event, true);\n  document.addEventListener('mousedown', event);\n  document.addEventListener('mouseup', event);\n  document.addEventListener('contextmenu', event)\n\n  let targets = 'a[class], button, label, tr, .js-touch-hover, .selectric-items li, .selectric .label, .toggle-section__content',\n      touchEndDelay = 100, //ms \n      timeout;\n\n  function event(event) {\n    let $targets = [];\n    $targets[0] = event.target!==document?event.target.closest(targets):null;\n    let $element = $targets[0], i = 0;\n\n    while($targets[0]) {\n      $element = $element.parentNode;\n      if($element!==document) {\n        if($element.matches(targets)) {\n          i++;\n          $targets[i] = $element;\n        }\n      } \n      else {\n        break;\n      }\n    }\n\n    //touchstart\n    if(event.type=='touchstart') {\n      isTouch = true;\n      if(timeout) clearTimeout(timeout);\n      if($targets[0]) {\n        for(let $target of document.querySelectorAll(targets)) $target.classList.remove('touch');\n        for(let $target of $targets) $target.classList.add('touch');\n      }\n    } \n    //touchend\n    else if(event.type=='touchend') {\n      timeout = setTimeout(() => {isTouch = false}, 500);\n      if($targets[0]) {\n        setTimeout(()=>{\n          for(let $target of $targets) $target.classList.remove('touch');\n        }, touchEndDelay)\n      }\n    } \n    //context menu\n    else if(event.type=='contextmenu') {\n      isTouch = false;\n      if($targets[0]) {\n        for(let $target of $targets) {\n          $target.classList.remove('touch');\n        }\n      }\n    } \n    //mouseenter\n    if(event.type=='mouseenter' && !isTouch && $targets[0] && $targets[0]==event.target) {\n      $targets[0].classList.add('hover');\n    }\n    //mouseleave\n    else if(event.type=='mouseleave' && !isTouch && $targets[0] && $targets[0]==event.target) {\n      $targets[0].classList.remove('hover');\n      $targets[0].classList.remove('focus');\n    }\n    //mousedown\n    if(event.type=='mousedown' && !isTouch && $targets[0]) {\n      $targets[0].classList.add('focus');\n    } \n    //mouseup\n    else if(event.type=='mouseup' && !isTouch  && $targets[0]) {\n      $targets[0].classList.remove('focus');\n    }\n  }\n\n}\n\n//lazyloading\nfunction lazy() {\n  //add backgrounds\n  document.addEventListener('lazybeforeunveil', function(e){\n    let el = e.target.tagName,\n        bg = e.target.getAttribute('data-src');\n    if(el!=='IMG') {\n      let bg = e.target.getAttribute('data-src');\n      e.target.style.backgroundImage = `url('${bg}')`;\n    }\n  });\n  lazySizes.init();\n}\n\n//select\nlet select = {\n  init: function() {\n    this.items = $('select');\n    if(this.items.length) {\n      this.items.selectric({\n        disableOnMobile: false,\n        nativeOnMobile: false,\n        arrowButtonMarkup: '<svg class=\"icon\" viewBox=\"0 0 12 7\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.72606 -1.19209e-07L11.1403 1.41421L5.57036 6.98453L4.15614 5.57031L9.72606 -1.19209e-07Z\"/><path d=\"M0 1.41421L1.41421 1.19209e-07L6.98434 5.57047L5.57036 6.98453L0 1.41421Z\"/></svg>'\n      });\n    }\n  }\n}\n\n\nlet header = {\n  init: function() {\n    this.el = $('.header');\n    this.isVisible = true;\n    this.isFixed = false;\n    this.scroll = $(window).scrollTop();\n    this.scroll_last = this.scroll;\n\n    this.checkFixed();\n\n    $(window).scroll(function(){\n      //if(!nav.state) {\n        header.checkVisible();\n      //}\n    });\n  },\n  checkFixed: function() {\n    let h = $('.header').height();\n    //fix header\n    if (this.scroll>0 && !this.isFixed){\n      this.isFixed = true;\n      this.el.addClass('header_fixed');\n    } else if(this.scroll<=0 && this.isFixed) {\n      this.isFixed = false;\n      this.el.removeClass('header_fixed');\n    }\n  },\n  checkVisible: function() {\n    this.scroll = $(window).scrollTop();\n    this.checkFixed();\n    if (this.scroll>this.scroll_last && this.scroll>$(window).height()/2 && this.isVisible){\n      this.isVisible=false;\n      this.el.addClass('header_hidden');\n    } else if(this.scroll<this.scroll_last && !this.isVisible) {\n      this.isVisible=true;\n      this.el.removeClass('header_hidden');\n    }\n    this.scroll_last = this.scroll;\n  }\n}\n\nlet nav = {\n  init: function() {\n    this.$nav = $('.mobile-nav');\n    this.$toggle = $('.nav-toggle');\n\n    this.$toggle.on('click', (event)=>{\n      event.preventDefault();\n      if(this.flag) {\n        this.close();\n      } else {\n        this.open();\n      }\n    })\n    \n    $(document).on('click touchstart', (event)=>{\n      if( $(event.target).closest('.mobile-nav__container').length==0 \n          && $(event.target).closest('.header').length==0\n          && $(event.target).closest(this.$toggle).length==0\n          && this.flag==true) {\n            this.close(); \n      }\n    })\n\n  }, \n\n  open: function() {\n    this.flag = true;\n    if(this.timout!==undefined) clearTimeout(this.timout)\n    scrollLock.disablePageScroll();\n    this.state = true;\n    $('header').addClass('header_nav-active')\n    this.$nav.addClass('active');\n    this.$toggle.addClass('active');\n  },\n\n  close: function() {\n    this.flag = false;\n    scrollLock.enablePageScroll();\n    $('header').removeClass('header_nav-active')\n    this.$nav.removeClass('active');\n    this.$toggle.removeClass('active');\n    this.timout = setTimeout(()=>{\n      this.state = false;\n    }, 250)\n  }\n}\n\nlet slider = {\n  el: $('.slider'),\n  arrowPrev: '<svg class=\"icon\" viewBox=\"0 0 10.5 18.1\"><path stroke=\"none\" d=\"M9,0l1.4,1.4L2.8,9l7.6,7.6L9,18.1L0,9C0,9,9.1,0,9,0z\"></path></svg>',\n  arrowNext: '<svg class=\"icon\" viewBox=\"0 0 10.5 18.1\"><path stroke=\"none\" d=\"M1.4,18.1L0,16.7l7.6-7.6L0,1.5L1.4,0l9,9.1C10.4,9.1,1.3,18.1,1.4,18.1z\"></path></svg>',\n  init: function() {\n    slider.el.each(function () {\n      let slideCount = 1,\n          slideCountLg = 1,\n          slideCountMd = 1,\n          slideCountSm = 1,\n          slideCountXs = 1,\n          arrows = false,\n          dots = false,\n          centerMode = false,\n          autoplay = false,\n          nextArrow = `<button type=\"button\" class=\"button button_style-1 slider__next\">${slider.arrowNext}</button>`,\n          prevArrow = `<button type=\"button\" class=\"button button_style-1 slider__prev\">${slider.arrowPrev}</button>`;\n      \n      if($(this).is('.slider_dots')) {\n        dots=true;\n      } \n      \n      if($(this).is('.slider_arrows')) {\n        arrows=true;\n      }\n\n      if($(this).is('.slider_grid')) {\n        arrows=true;\n        dots=true;\n      } \n      \n      if($(this).is('.home-banner')) {\n        //autoplay = true;\n        nextArrow = `<button class=\"home-banner__arrow home-banner__next\" aria-label=\"Next\" type=\"button\">${slider.arrowNext}</button>`;\n        prevArrow = `<button class=\"home-banner__arrow home-banner__prev\" aria-label=\"Previous\" type=\"button\">${slider.arrowPrev}</button>`;\n        initSlider($(this));\n      }  \n      \n      else if($(this).is('.photo-slider')) {\n        initSlider($(this));\n      }\n      \n      else if($(this).is('.slider_3n')) {\n        slideCount = 3;\n        slideCountLg = 2;\n        slideCountMd = 2;\n        slideCountSm = 2;\n        slideCountXs = 1;\n        initSlider($(this));\n      } \n\n      function initSlider($target) {\n        $target.slick({\n          rows: 0,\n          infinite: true,\n          dots: dots,\n          arrows: arrows,\n          nextArrow: nextArrow,\n          prevArrow: prevArrow,\n          speed: 500,\n          centerMode: centerMode,\n          slidesToShow: slideCount,\n          slidesToScroll: slideCount,\n          autoplay: autoplay,\n          autoplaySpeed: 5000,\n          responsive: [{\n              breakpoint: brakepoints.lg,\n              settings: {\n                slidesToShow: slideCountLg,\n                slidesToScroll: slideCountLg\n              }\n            },\n            {\n              breakpoint: brakepoints.md,\n              settings: {\n                slidesToShow: slideCountMd,\n                slidesToScroll: slideCountMd\n              }\n            },\n            {\n              breakpoint: brakepoints.sm,\n              settings: {\n                slidesToShow: slideCountSm,\n                slidesToScroll: slideCountSm\n              }\n            },\n            {\n              breakpoint: brakepoints.xs,\n              settings: {\n                slidesToShow: slideCountXs,\n                slidesToScroll: slideCountXs\n              }\n            }\n          ]\n        });\n      }\n    \n    });\n\n  }\n}\n\n\nfunction toggle() {\n  let $section = $('.toggle-section'),\n      speed = 250;\n\n  $section.each(function() {\n    let $this = $(this),\n        $toggle = $this.children('.toggle-section__trigger'),\n        $content = $this.children('.toggle-section__content'),\n        state = $this.hasClass('active') ? true : false,\n        initialized;\n\n    $toggle.on('click', function() {\n      state = !state ? true : false;\n      check();\n    })\n    \n    if($this.is('[data-hover]')) {\n      let timeout;\n      \n      $toggle.add($content).on('mouseenter', function(event){\n        if(!isTouch) {\n          if(timeout) clearTimeout(timeout);\n          state=true;\n          check();\n        }\n      })\n\n      $toggle.add($content).on('mouseleave', function(event){\n        if(!isTouch) {\n          let delay;\n          if($(this).is($toggle)) {\n            delay=500;\n          } else {\n            delay=100;\n          }\n          timeout = setTimeout(()=>{\n            state=false;\n            check();\n          }, delay)\n        }\n      })\n\n    }\n\n    if($this.is('[data-out-hide]') || $this.is('[data-hover]')) {\n      $(document).on('click touchstart', function(event) {\n        let $target = $(event.target);\n        if(!$target.closest($content).length && !$target.closest($toggle).length && state) {\n          state=false;\n          check();\n        }\n      })\n    } \n\n    function check() {\n      if(state) {\n        $this.add($content).add($toggle).addClass('active');\n        if($this.is('[data-slide]')) {\n          $content.slideDown(speed);\n        }\n      } \n      else {\n        $this.add($toggle).add($content).removeClass('active');\n        if($this.is('[data-slide]')) {\n          if(initialized) {\n            $content.stop().slideUp(speed);\n          } else {\n            $content.hide(0);\n          }\n        }\n      }\n    }\n\n    check();\n\n    initialized=true;\n  })\n}"]}